{"created": 1764271039.3080196, "duration": 48.50605297088623, "exitcode": 1, "root": "/home/paul/CodeIntel", "environment": {}, "summary": {"passed": 271, "failed": 18, "skipped": 2, "xfailed": 1, "total": 292, "collected": 292}, "tests": [{"nodeid": "tests/analytics/test_evidence.py::test_evidence_collector_deduplicates_and_truncates", "lineno": 13, "outcome": "passed", "keywords": ["test_evidence_collector_deduplicates_and_truncates", "test_evidence.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005125080024299677, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023706800129730254, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.736400170368142e-05, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_ast_utils.py::test_safe_unparse_survives_invalid_nodes", "lineno": 38, "outcome": "passed", "keywords": ["test_safe_unparse_survives_invalid_nodes", "test_ast_utils.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.000547009000001708, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002777299996523652, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.685400073067285e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_domain_api_exports.py::test_graphs_api_exports_expected_symbols", "lineno": 52, "outcome": "passed", "keywords": ["test_graphs_api_exports_expected_symbols", "test_domain_api_exports.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005782699990959372, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00016781500016804785, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011560400162125006, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_cli_parser.py::test_function_parser_invalid_exits", "lineno": 16, "outcome": "passed", "keywords": ["test_function_parser_invalid_exits", "test_cli_parser.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006788739992771298, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.004465407000679988, "outcome": "passed", "stderr": "usage: codeintel pipeline run [-h] [--repo-root REPO_ROOT] --repo REPO\n                              --commit COMMIT [--db-path DB_PATH]\n                              [--build-dir BUILD_DIR]\n                              [--document-output-dir DOCUMENT_OUTPUT_DIR]\n                              [--target TARGET] [--skip-scip]\n                              [--function-fail-on-missing-spans]\n                              [--function-parser {python}]\n                              [--history-commit HISTORY_COMMITS]\n                              [--history-db-dir HISTORY_DB_DIR]\n                              [--export-dataset EXPORT_DATASETS] [--nx-gpu]\n                              [--nx-backend {auto,cpu,nx-cugraph}]\n                              [--nx-gpu-strict]\ncodeintel pipeline run: error: argument --function-parser: invalid choice: 'bogus' (choose from python)\n", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012113499906263314, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_global_graph_stats_triangle", "lineno": 100, "outcome": "passed", "keywords": ["test_global_graph_stats_triangle", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.000611182000284316, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0030805280002823565, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001398149979650043, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_neighbor_stats_with_weights", "lineno": 46, "outcome": "passed", "keywords": ["test_neighbor_stats_with_weights", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006750640022801235, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.000786048000009032, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012845499804825522, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_semantic_roles_signals.py::test_flask_role_detected", "lineno": 36, "outcome": "passed", "keywords": ["test_flask_role_detected", "test_semantic_roles_signals.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004633659991668537, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002759589988272637, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012598499961313792, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_domain_api_exports.py::test_history_api_exports_expected_symbols", "lineno": 77, "outcome": "passed", "keywords": ["test_history_api_exports_expected_symbols", "test_domain_api_exports.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.864299914217554e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.067299833986908e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.9821999457199126e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_symbol_and_config_metrics_builder_round_trip", "lineno": 151, "outcome": "passed", "keywords": ["test_symbol_and_config_metrics_builder_round_trip", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.001203261999762617, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.5504134080001677, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00026253900068695657, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_metrics_calculations.py::test_graph_metrics_ready_gateway_smoke", "lineno": 99, "outcome": "passed", "keywords": ["test_graph_metrics_ready_gateway_smoke", "test_graph_metrics_calculations.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0011576310025702696, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.475745794999966, "outcome": "passed", "stderr": "14:16:36.220 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:36.223 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764270996.2206078, "msecs": 220.0, "relativeCreated": 5185.076437, "thread": 124455473149760, "threadName": "MainThread", "processName": "MainProcess", "process": 308861, "taskName": null, "asctime": "14:16:36"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764270996.2232144, "msecs": 223.0, "relativeCreated": 5187.682909, "thread": 124455473149760, "threadName": "MainThread", "processName": "MainProcess", "process": 308861, "taskName": null, "asctime": "14:16:36"}], "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0002174280016333796, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_evidence.py::test_validate_evidence_samples_rejects_invalid_payloads", "lineno": 51, "outcome": "passed", "keywords": ["test_validate_evidence_samples_rejects_invalid_payloads", "test_evidence.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.238299804157577e-05, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003217509984096978, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.365199806168675e-05, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_ast_utils.py::test_snippet_from_lines_includes_range", "lineno": 47, "outcome": "passed", "keywords": ["test_snippet_from_lines_includes_range", "test_ast_utils.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.574299888801761e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.847299952525645e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.968299931031652e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_span_resolver.py::test_build_span_index_skips_missing_goids", "lineno": 17, "outcome": "passed", "keywords": ["test_build_span_index_skips_missing_goids", "test_span_resolver.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0011043090016755741, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00020515800133580342, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001494249991083052, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_span_resolver.py::test_resolve_span_success", "lineno": 57, "outcome": "passed", "keywords": ["test_resolve_span_success", "test_span_resolver.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00037749300099676475, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023826899996493012, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.982299889088608e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_semantic_roles_signals.py::test_typer_cli_detected", "lineno": 48, "outcome": "passed", "keywords": ["test_typer_cli_detected", "test_semantic_roles_signals.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.419299799948931e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00013996400230098516, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.149199907667935e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_semantic_roles_signals.py::test_pytest_fixture_vs_test_role", "lineno": 65, "outcome": "passed", "keywords": ["test_pytest_fixture_vs_test_role", "test_semantic_roles_signals.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00012838400289183483, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00017408599887858145, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.547199882334098e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_entrypoint_evidence.py::test_detect_entrypoints_emits_snippet_evidence", "lineno": 11, "outcome": "passed", "keywords": ["test_detect_entrypoints_emits_snippet_evidence", "test_entrypoint_evidence.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00012208499902044423, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0008839209986035712, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010442400161991827, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_span_resolver.py::test_resolve_span_missing", "lineno": 71, "outcome": "passed", "keywords": ["test_resolve_span_missing", "test_span_resolver.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.791199823259376e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00019088599947281182, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.25020002189558e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_history_timeseries.py::test_history_timeseries_aggregates_functions", "lineno": 18, "outcome": "passed", "keywords": ["test_history_timeseries_aggregates_functions", "test_history_timeseries.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0012374530015222263, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.668636381000397, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00023022800087346695, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_component_metadata_cycles_and_layers", "lineno": 60, "outcome": "passed", "keywords": ["test_component_metadata_cycles_and_layers", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010655300138751045, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.001138329000241356, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.480299948132597e-05, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_projection_metrics_basic", "lineno": 71, "outcome": "passed", "keywords": ["test_projection_metrics_basic", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 8.654300108901225e-05, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0015745849996164907, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.588300235918723e-05, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_bipartite_degrees_weight_and_centrality", "lineno": 123, "outcome": "passed", "keywords": ["test_bipartite_degrees_weight_and_centrality", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 8.626300041214563e-05, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003437919986026827, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.759199823136441e-05, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_provisioned_gateway_round_trip", "lineno": 36, "outcome": "passed", "keywords": ["test_provisioned_gateway_round_trip", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.0011461499998404179, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.7997287989965116, "outcome": "passed", "stderr": "14:16:36.218 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:36.221 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764270996.2184806, "msecs": 218.0, "relativeCreated": 5354.2192, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:36"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764270996.2211146, "msecs": 221.0, "relativeCreated": 5356.853173, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:36"}], "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00019105699902866036, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_cli_parser.py::test_function_parser_default_none", "lineno": 33, "outcome": "passed", "keywords": ["test_function_parser_default_none", "test_cli_parser.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 8.871299723978154e-05, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.002725905997067457, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.169200009433553e-05, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_dependencies_config_values.py::test_load_config_keys_filters_repo", "lineno": 14, "outcome": "passed", "keywords": ["test_load_config_keys_filters_repo", "test_dependencies_config_values.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0007066949983709492, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.8634193270008836, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0003394820014364086, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_bounded_simple_path_count_caps_results", "lineno": 136, "outcome": "passed", "keywords": ["test_bounded_simple_path_count_caps_results", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 6.983200000831857e-05, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0006699240002490114, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.581300087622367e-05, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_structural_metrics_triangle_and_core", "lineno": 88, "outcome": "passed", "keywords": ["test_structural_metrics_triangle_and_core", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002230380014225375, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.06098801299958723, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012971500109415501, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_semantic_roles_signals.py::test_service_tag_and_graph_signal", "lineno": 87, "outcome": "passed", "keywords": ["test_service_tag_and_graph_signal", "test_semantic_roles_signals.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001218350007547997, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002028380004048813, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.414299761876464e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_test_profiles.py::test_ast_index_detects_io_and_asserts", "lineno": 84, "outcome": "passed", "keywords": ["test_ast_index_detects_io_and_asserts", "test_test_profiles.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0008014680024643894, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0006709129993396346, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.828399925027043e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_stats_smoke.py::test_graph_stats_records_counts_for_basic_graphs", "lineno": 18, "outcome": "passed", "keywords": ["test_graph_stats_records_counts_for_basic_graphs", "test_graph_stats_smoke.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002158679999411106, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.7385114509997948, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001284339996345807, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_entrypoints_and_dependencies.py::test_entrypoints_and_dependencies_round_trip", "lineno": 282, "outcome": "failed", "keywords": ["test_entrypoints_and_dependencies_round_trip", "test_entrypoints_and_dependencies.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0009891449990391266, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 7.4208398629998555, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/analytics/test_entrypoints_and_dependencies.py", "lineno": 321, "message": ""}, {"path": "src/codeintel/analytics/entrypoints.py", "lineno": 128, "message": "in build_entrypoints"}, {"path": "src/codeintel/analytics/context.py", "lineno": 473, "message": "in ensure_analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "stderr": "14:16:39.282 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0\n14:16:39.284 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 3): ['_coverage_driver.py', 'pkg/app.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764270999.2823765, "msecs": 282.0, "relativeCreated": 8263.517981, "thread": 138267996055360, "threadName": "MainThread", "processName": "MainProcess", "process": 308827, "taskName": null, "asctime": "14:16:39"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 3): ['_coverage_driver.py', 'pkg/app.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764270999.2846408, "msecs": 284.0, "relativeCreated": 8265.782221, "thread": 138267996055360, "threadName": "MainThread", "processName": "MainProcess", "process": 308827, "taskName": null, "asctime": "14:16:39"}], "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw9/test_entrypoints_and_dependenc0')\n\n    def test_entrypoints_and_dependencies_round_trip(tmp_path: Path) -> None:\n        \"\"\"Validate entrypoint and dependency tables on a small repo snapshot.\"\"\"\n        repo_root = tmp_path / \"repo\"\n        _write_sample_repo(repo_root)\n    \n        with provision_gateway_with_repo(repo_root) as ctx:\n            builder = ConfigBuilder.from_snapshot(\n                repo=ctx.repo,\n                commit=ctx.commit,\n                repo_root=ctx.repo_root,\n                build_dir=ctx.build_dir,\n            )\n            tracker = ingest_repo(\n                ctx.gateway,\n                cfg=builder.repo_scan(),\n            )\n            insert_modules(\n                ctx.gateway,\n                [\n                    ModuleRow(\n                        module=\"pkg.app\",\n                        path=\"pkg/app.py\",\n                        repo=ctx.repo,\n                        commit=ctx.commit,\n                    )\n                ],\n            )\n            ingest_python_ast(tracker)\n            build_goids(ctx.gateway, builder.goid_builder())\n    \n            con = ctx.gateway.con\n            hello_row = _get_goid_row(con, \"pkg.app.hello\")\n    \n            now = datetime.now(tz=UTC)\n            _seed_coverage_and_tests(ctx, hello_row, now)\n    \n            catalog = FunctionCatalogService.from_db(ctx.gateway, repo=ctx.repo, commit=ctx.commit)\n            entry_cfg = builder.entrypoints()\n>           build_entrypoints(ctx.gateway, entry_cfg, catalog_provider=catalog)\n\ntests/analytics/test_entrypoints_and_dependencies.py:321: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/analytics/entrypoints.py:128: in build_entrypoints\n    shared_context = ensure_analytics_context(\nsrc/codeintel/analytics/context.py:473: in ensure_analytics_context\n    return build_analytics_context(gateway, cfg)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw9/test_entrypoints_and_de...ction object at 0x7dc0067ac1b0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7dc0067ac1b0>))\ncfg = AnalyticsContextConfig(repo='demo/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...mbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=False)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.00026544000138528645, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_exports.py::test_domain_exports[codeintel.analytics.functions-expected0]", "lineno": 61, "outcome": "passed", "keywords": ["test_domain_exports[codeintel.analytics.functions-expected0]", "parametrize", "pytestmark", "codeintel.analytics.functions-expected0", "test_analytics_exports.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00032367099993280135, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.575399963068776e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010952400043606758, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_exports.py::test_domain_exports[codeintel.analytics.graphs-expected1]", "lineno": 61, "outcome": "passed", "keywords": ["test_domain_exports[codeintel.analytics.graphs-expected1]", "parametrize", "pytestmark", "codeintel.analytics.graphs-expected1", "test_analytics_exports.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.0011465300012787338, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00010461399870109744, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.848300083423965e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_exports.py::test_domain_exports[codeintel.analytics.history-expected2]", "lineno": 61, "outcome": "passed", "keywords": ["test_domain_exports[codeintel.analytics.history-expected2]", "parametrize", "pytestmark", "codeintel.analytics.history-expected2", "test_analytics_exports.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00017939600002137013, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 8.737299867789261e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.208199895103462e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_parser_has_pipeline_command", "lineno": 148, "outcome": "passed", "keywords": ["test_parser_has_pipeline_command", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00016865600264281966, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0030952090019127354, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.000174786000570748, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_parser_pipeline_run", "lineno": 156, "outcome": "passed", "keywords": ["test_parser_pipeline_run", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.000121824999951059, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.003270504999818513, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.542299863416702e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_parser_pipeline_deps", "lineno": 180, "outcome": "passed", "keywords": ["test_parser_pipeline_deps", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 7.408199962810613e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0025196389979100786, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.604299753438681e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_history_timeseries_cli.py::test_history_timeseries_cli_happy_path", "lineno": 14, "outcome": "passed", "keywords": ["test_history_timeseries_cli_happy_path", "test_history_timeseries_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0008446390020253602, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.853946223000094, "outcome": "passed", "stderr": "14:16:43.898 | WARNING | codeintel.analytics.history.history_timeseries - git show failed for c2: code=128 stderr=fatal: not a git repository (or any of the parent directories): .git\n\n14:16:43.915 | WARNING | codeintel.analytics.history.history_timeseries - git show failed for c1: code=128 stderr=fatal: not a git repository (or any of the parent directories): .git\n\n", "log": [{"name": "codeintel.analytics.history.history_timeseries", "msg": "git show failed for c2: code=128 stderr=fatal: not a git repository (or any of the parent directories): .git\n", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py", "filename": "history_timeseries.py", "module": "history_timeseries", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 453, "funcName": "_fetch_commit_timestamp", "created": 1764271003.898933, "msecs": 898.0, "relativeCreated": 12829.22184, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:16:43"}, {"name": "codeintel.analytics.history.history_timeseries", "msg": "git show failed for c1: code=128 stderr=fatal: not a git repository (or any of the parent directories): .git\n", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py", "filename": "history_timeseries.py", "module": "history_timeseries", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 453, "funcName": "_fetch_commit_timestamp", "created": 1764271003.915457, "msecs": 915.0, "relativeCreated": 12845.74592, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:16:43"}], "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0002932410025096033, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_deps_text_output", "lineno": 106, "outcome": "passed", "keywords": ["test_deps_text_output", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0007082349984557368, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0032059519980975892, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013728500198340043, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_deps_json_output", "lineno": 116, "outcome": "passed", "keywords": ["test_deps_json_output", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00022250800248002633, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00501524699939182, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001217540011566598, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_deps_unknown_step", "lineno": 130, "outcome": "passed", "keywords": ["test_deps_unknown_step", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00022323800294543616, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.004239459001837531, "outcome": "passed", "stderr": "14:16:34.967 | ERROR   | codeintel.cli - Unknown step: nonexistent_step\n", "log": [{"name": "codeintel.cli", "msg": "Unknown step: nonexistent_step", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/cli/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 644, "funcName": "_cmd_pipeline_deps", "created": 1764270994.9672456, "msecs": 967.0, "relativeCreated": 3962.382702, "thread": 140119346145088, "threadName": "MainThread", "processName": "MainProcess", "process": 308793, "taskName": null, "asctime": "14:16:34"}], "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014266500147641636, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_deps_step_with_no_deps", "lineno": 136, "outcome": "passed", "keywords": ["test_deps_step_with_no_deps", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00026701000024331734, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0025250889993913006, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012683399836532772, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_edge_columns.py::test_call_graph_edges_export_includes_repo_commit", "lineno": 21, "outcome": "passed", "keywords": ["test_call_graph_edges_export_includes_repo_commit", "test_export_edge_columns.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006470619991887361, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.620659575997706, "outcome": "passed", "stderr": "14:16:36.926 | INFO    | codeintel.ingestion.change - compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:36.927 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764270996.926878, "msecs": 926.0, "relativeCreated": 5922.014952, "thread": 140119346145088, "threadName": "MainThread", "processName": "MainProcess", "process": 308793, "taskName": null, "asctime": "14:16:36"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764270996.9273264, "msecs": 927.0, "relativeCreated": 5922.463387, "thread": 140119346145088, "threadName": "MainThread", "processName": "MainProcess", "process": 308793, "taskName": null, "asctime": "14:16:36"}], "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017252599718631245, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_metrics_smoke.py::test_compute_graph_metrics_with_small_graph", "lineno": 21, "outcome": "passed", "keywords": ["test_compute_graph_metrics_with_small_graph", "test_graph_metrics_smoke.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00016372599930036813, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.7034556990001875, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013331399895832874, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_centrality_directed_weighted_and_seeded", "lineno": 24, "outcome": "passed", "keywords": ["test_centrality_directed_weighted_and_seeded", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010970400035148486, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0011915420000150334, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010241400013910607, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_service_unit.py::test_centrality_undirected_empty_returns_zeroes", "lineno": 37, "outcome": "passed", "keywords": ["test_centrality_undirected_empty_returns_zeroes", "test_graph_service_unit.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 9.974400018109009e-05, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0004103339997527655, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.834200005163439e-05, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_runner.py::test_run_validated_exports_invokes_validator_before_exports", "lineno": 28, "outcome": "passed", "keywords": ["test_run_validated_exports_invokes_validator_before_exports", "test_export_runner.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005321889984770678, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.696641247999651, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0002211579994764179, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_subsystems.py::test_subsystems_cluster_and_risk_aggregation", "lineno": 252, "outcome": "failed", "keywords": ["test_subsystems_cluster_and_risk_aggregation", "test_subsystems.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4708413620028296, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.6041967110031692, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/subsystems/materialize.py", "lineno": 113, "message": "ValueError: Graph engine is required for subsystem materialization."}, "traceback": [{"path": "tests/analytics/test_subsystems.py", "lineno": 263, "message": ""}, {"path": "src/codeintel/analytics/subsystems/materialize.py", "lineno": 113, "message": "ValueError"}], "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw11/test_subsystems_cluste...ction object at 0x7c0347e252b0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7c0347e252b0>))\n\n    def test_subsystems_cluster_and_risk_aggregation(fresh_gateway: StorageGateway) -> None:\n        \"\"\"Clusters modules and aggregates risk across subsystems.\"\"\"\n        gateway = fresh_gateway\n        con = gateway.con\n        _seed_modules(gateway)\n    \n        cfg = ConfigBuilder.from_snapshot(repo=REPO, commit=COMMIT, repo_root=Path()).subsystems(\n            max_subsystems=2,\n            min_modules=1,\n        )\n>       build_subsystems(gateway, cfg)\n\ntests/analytics/test_subsystems.py:263: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw11/test_subsystems_cluste...ction object at 0x7c0347e252b0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7c0347e252b0>))\ncfg = SubsystemsStepConfig(snapshot=SnapshotRef(repo='demo/repo', commit='abc123', repo_root=PosixPath('/home/paul/CodeIntel'), branch=None), min_modules=1, max_subsystems=2, import_weight=1.0, symbol_weight=0.5, config_weight=0.3)\n\n    def build_subsystems(\n        gateway: StorageGateway,\n        cfg: SubsystemsStepConfig,\n        *,\n        context: AnalyticsContext | None = None,\n        engine: GraphEngine | None = None,\n    ) -> None:\n        \"\"\"Populate analytics.subsystems and analytics.subsystem_modules for a repo/commit.\"\"\"\n        con = gateway.con\n        ensure_schema(con, \"analytics.subsystems\")\n        ensure_schema(con, \"analytics.subsystem_modules\")\n    \n        con.execute(\n            \"DELETE FROM analytics.subsystems WHERE repo = ? AND commit = ?\",\n            [cfg.repo, cfg.commit],\n        )\n        con.execute(\n            \"DELETE FROM analytics.subsystem_modules WHERE repo = ? AND commit = ?\",\n            [cfg.repo, cfg.commit],\n        )\n    \n        modules, tags_by_module = load_modules(gateway, cfg)\n        if not modules:\n            log.info(\"No modules available for subsystem inference; skipping.\")\n            return\n    \n        affinity_graph = build_weighted_graph(gateway, cfg, modules)\n        adjacency = graph_to_adjacency(affinity_graph)\n        labels = label_propagation_nx(affinity_graph, seed_labels_from_tags(tags_by_module))\n        labels = reassign_small_clusters(labels, adjacency, cfg.min_modules)\n        labels = limit_clusters(labels, adjacency, cfg.max_subsystems)\n    \n        if context is not None and (context.repo != cfg.repo or context.commit != cfg.commit):\n            log.warning(\n                \"subsystems context mismatch: context=%s@%s cfg=%s@%s\",\n                context.repo,\n                context.commit,\n                cfg.repo,\n                cfg.commit,\n            )\n        graph_engine = engine\n        if graph_engine is None:\n            message = \"Graph engine is required for subsystem materialization.\"\n>           raise ValueError(message)\nE           ValueError: Graph engine is required for subsystem materialization.\n\nsrc/codeintel/analytics/subsystems/materialize.py:113: ValueError"}, "teardown": {"duration": 0.03057482399890432, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_catalog_provider_usage.py::test_graph_metrics_uses_catalog_for_symbol_modules", "lineno": 135, "outcome": "passed", "keywords": ["test_graph_metrics_uses_catalog_for_symbol_modules", "test_catalog_provider_usage.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4934373359974416, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.5611097969995171, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025338020001072437, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_catalog_provider_usage.py::test_symbol_uses_respects_catalog_module_map", "lineno": 45, "outcome": "passed", "keywords": ["test_symbol_uses_respects_catalog_module_map", "test_catalog_provider_usage.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4950507529974857, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.6360355200013146, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02785783900253591, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_function_history.py::test_function_history_populates_rows", "lineno": 24, "outcome": "passed", "keywords": ["test_function_history_populates_rows", "test_function_history.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4949431589993765, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.37507305899998755, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02889443499952904, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_functions_validation.py::test_records_validation_when_parse_fails", "lineno": 43, "outcome": "passed", "keywords": ["test_records_validation_when_parse_fails", "test_functions_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.514122493001196, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.4322172870015493, "outcome": "passed", "stderr": "14:16:38.376 | WARNING | codeintel.analytics.functions.metrics - Skipping file for function analytics: /tmp/pytest-of-paul/pytest-41/popen-gw5/test_records_validation_when_p0/mod.py\n14:16:39.143 | WARNING | codeintel.analytics.functions.metrics - Function validation gaps: parse_failed=1 span_not_found=0\n", "log": [{"name": "codeintel.analytics.functions.metrics", "msg": "Skipping file for function analytics: /tmp/pytest-of-paul/pytest-41/popen-gw5/test_records_validation_when_p0/mod.py", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/functions/metrics.py", "filename": "metrics.py", "module": "metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 378, "funcName": "_process_file_functions", "created": 1764270998.3762977, "msecs": 376.0, "relativeCreated": 7421.924817, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:38"}, {"name": "codeintel.analytics.functions.metrics", "msg": "Function validation gaps: parse_failed=1 span_not_found=0", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/functions/metrics.py", "filename": "metrics.py", "module": "metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 765, "funcName": "compute_function_metrics_and_types", "created": 1764270999.1430106, "msecs": 143.0, "relativeCreated": 8188.637579, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:39"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027508326998940902, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/config/test_ingestion_schema_registry.py::test_ingestion_sql_tables_match_schema", "lineno": 35, "outcome": "passed", "keywords": ["test_ingestion_sql_tables_match_schema", "test_ingestion_schema_registry.py", "config", "tests", "CodeIntel", ""], "setup": {"duration": 3.487142584999674, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4886392900007195, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02635346700117225, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_file_backed_gateway_releases_handles", "lineno": 222, "outcome": "passed", "keywords": ["test_file_backed_gateway_releases_handles", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004848469980061054, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.5156571290026477, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00018444700253894553, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_file_backed_gateway_creates_db", "lineno": 45, "outcome": "passed", "keywords": ["test_file_backed_gateway_creates_db", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.00043692500184988603, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.4980892710009357, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00021816700245835818, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_domain_api_exports.py::test_functions_api_exports_expected_symbols", "lineno": 34, "outcome": "passed", "keywords": ["test_functions_api_exports_expected_symbols", "test_domain_api_exports.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001724459980323445, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023850800062064081, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.939300096244551e-05, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_all_phases_valid[ingestion]", "lineno": 94, "outcome": "passed", "keywords": ["test_list_steps_all_phases_valid[ingestion]", "parametrize", "pytestmark", "ingestion", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006373619980877265, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0032372340028814506, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001593349988979753, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_all_phases_valid[graphs]", "lineno": 94, "outcome": "passed", "keywords": ["test_list_steps_all_phases_valid[graphs]", "parametrize", "pytestmark", "graphs", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00039493400254286826, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.006110124999395339, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.000188895999599481, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_all_phases_valid[analytics]", "lineno": 94, "outcome": "passed", "keywords": ["test_list_steps_all_phases_valid[analytics]", "parametrize", "pytestmark", "analytics", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00046000700240256265, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0030484570015687495, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013869499889551662, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_all_phases_valid[export]", "lineno": 94, "outcome": "passed", "keywords": ["test_list_steps_all_phases_valid[export]", "parametrize", "pytestmark", "export", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00031375099933939055, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0034298709979339037, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014779499906580895, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/config/test_subsystems_config.py::test_overrides_are_applied_and_typed", "lineno": 18, "outcome": "passed", "keywords": ["test_overrides_are_applied_and_typed", "test_subsystems_config.py", "config", "tests", "CodeIntel", ""], "setup": {"duration": 0.00013851499898009934, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0004544259973044973, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.108199861249886e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/config/test_subsystems_config.py::test_invalid_overrides_raise[overrides0-integer]", "lineno": 43, "outcome": "passed", "keywords": ["test_invalid_overrides_raise[overrides0-integer]", "parametrize", "pytestmark", "overrides0-integer", "test_subsystems_config.py", "config", "tests", "CodeIntel", ""], "setup": {"duration": 0.00023924799825181253, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00037874299960094504, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011154399908264168, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/config/test_subsystems_config.py::test_invalid_overrides_raise[overrides1-integer]", "lineno": 43, "outcome": "passed", "keywords": ["test_invalid_overrides_raise[overrides1-integer]", "parametrize", "pytestmark", "overrides1-integer", "test_subsystems_config.py", "config", "tests", "CodeIntel", ""], "setup": {"duration": 0.00020568800027831458, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00025991900110966526, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.586200081277639e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/config/test_subsystems_config.py::test_invalid_overrides_raise[overrides2-numeric]", "lineno": 43, "outcome": "passed", "keywords": ["test_invalid_overrides_raise[overrides2-numeric]", "parametrize", "pytestmark", "overrides2-numeric", "test_subsystems_config.py", "config", "tests", "CodeIntel", ""], "setup": {"duration": 0.00022554799943463877, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002757500005827751, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010628399832057767, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_validation_models.py::test_data_model_field_schema_validates_fixture", "lineno": 11, "outcome": "passed", "keywords": ["test_data_model_field_schema_validates_fixture", "test_export_validation_models.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004657560020859819, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0012790650034730788, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.990300193545409e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_validation_models.py::test_data_model_relationship_schema_validates_fixture", "lineno": 28, "outcome": "passed", "keywords": ["test_data_model_relationship_schema_validates_fixture", "test_export_validation_models.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.00031482099802815355, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0009488229989074171, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011355400056345388, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_export_macro_paths.py::test_exporters_avoid_direct_table_reads", "lineno": 12, "outcome": "passed", "keywords": ["test_exporters_avoid_direct_table_reads", "test_export_macro_paths.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00027410999973653816, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002520790003472939, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.557299977634102e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_nx_views_boundary.py::test_nx_views_only_used_in_graphs_layer", "lineno": 9, "outcome": "passed", "keywords": ["test_nx_views_only_used_in_graphs_layer", "test_nx_views_boundary.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010386400026618503, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0037037999973108526, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.244399916497059e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_query_layer_boundaries.py::test_adapters_do_not_embed_sql", "lineno": 25, "outcome": "passed", "keywords": ["test_adapters_do_not_embed_sql", "test_query_layer_boundaries.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 9.525399946141988e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00042496500100241974, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.744200072716922e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_docs_export_cli.py::test_cmd_docs_export_invokes_validator_before_exports", "lineno": 33, "outcome": "passed", "keywords": ["test_cmd_docs_export_invokes_validator_before_exports", "test_docs_export_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005089779988338705, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.678987138999219, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00015598599929944612, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_subset_validates_dataset_names", "lineno": 158, "outcome": "passed", "keywords": ["test_export_subset_validates_dataset_names", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.5654063680012769, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4408569309998711, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.007627217997651314, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_stats_validation.py::test_graph_views_exist", "lineno": 49, "outcome": "passed", "keywords": ["test_graph_views_exist", "test_graph_stats_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 4.689968642000167, "outcome": "passed", "stderr": "14:16:36.183 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:36.186 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764270996.183386, "msecs": 183.0, "relativeCreated": 5063.004437, "thread": 130858829756224, "threadName": "MainThread", "processName": "MainProcess", "process": 309031, "taskName": null, "asctime": "14:16:36"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764270996.1867278, "msecs": 186.0, "relativeCreated": 5066.345964, "thread": 130858829756224, "threadName": "MainThread", "processName": "MainProcess", "process": 309031, "taskName": null, "asctime": "14:16:36"}], "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.000536829000338912, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.009455061997869052, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_edge_columns.py::test_import_graph_edges_export_includes_repo_commit", "lineno": 60, "outcome": "passed", "keywords": ["test_import_graph_edges_export_includes_repo_commit", "test_export_edge_columns.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.000453776003269013, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.623347103999549, "outcome": "passed", "stderr": "14:16:41.445 | INFO    | codeintel.ingestion.change - compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:41.446 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271001.445993, "msecs": 445.0, "relativeCreated": 10441.129951, "thread": 140119346145088, "threadName": "MainThread", "processName": "MainProcess", "process": 308793, "taskName": null, "asctime": "14:16:41"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271001.446465, "msecs": 446.0, "relativeCreated": 10441.602098, "thread": 140119346145088, "threadName": "MainThread", "processName": "MainProcess", "process": 308793, "taskName": null, "asctime": "14:16:41"}], "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001805259998945985, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_helpers_resolve_dataset_names", "lineno": 171, "outcome": "passed", "keywords": ["test_export_helpers_resolve_dataset_names", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.555680907000351, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.5843501039998955, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.009081699001399102, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_validation_runs_against_registry", "lineno": 203, "outcome": "passed", "keywords": ["test_export_validation_runs_against_registry", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.5646860130000277, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.005193752000195673, "outcome": "passed", "stderr": "14:16:40.829 | ERROR   | codeintel.pipeline.export.export_jsonl - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; missing tables/views: broken (missing.table)\", \"instance\": \"ee384947-fe98-46e8-8950-b3b9699ca262\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}\n", "log": [{"name": "codeintel.pipeline.export.export_jsonl", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; missing tables/views: broken (missing.table)\", \"instance\": \"ee384947-fe98-46e8-8950-b3b9699ca262\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271000.8298602, "msecs": 829.0, "relativeCreated": 9861.761562, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:40"}], "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.009155941999779316, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_validation_flag.py::test_docs_export_validation_flag_triggers_schema_check", "lineno": 100, "outcome": "passed", "keywords": ["test_docs_export_validation_flag_triggers_schema_check", "test_export_validation_flag.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.00057526999808033, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 6.461407905000669, "outcome": "passed", "stderr": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"instance\": \"1dc09a28-2931-4d05-96b3-c93e4eecbdca\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\"]}}\n14:16:45.529 | ERROR   | codeintel.validate_exports - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"instance\": \"1dc09a28-2931-4d05-96b3-c93e4eecbdca\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\"]}}\n14:16:45.530 | ERROR   | codeintel.pipeline.export.export_parquet - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Validation failed for schema function_profile\", \"instance\": \"ca624275-543b-4982-9574-36e19c477f79\", \"code\": \"export.validation_failed\", \"extras\": {\"schema\": \"function_profile\", \"files\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet\"]}}\n14:16:45.530 | ERROR   | codeintel.cli - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Validation failed for schema function_profile\", \"instance\": \"ca624275-543b-4982-9574-36e19c477f79\", \"code\": \"export.validation_failed\", \"extras\": {\"schema\": \"function_profile\", \"files\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet\"]}}\n", "log": [{"name": "codeintel.validate_exports", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'; /tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"instance\": \"1dc09a28-2931-4d05-96b3-c93e4eecbdca\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: Decimal('1') is not of type 'integer', 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\", \"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet: row=0: None is not of type 'string'\"]}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271005.529691, "msecs": 529.0, "relativeCreated": 14561.592505, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:45"}, {"name": "codeintel.pipeline.export.export_parquet", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Validation failed for schema function_profile\", \"instance\": \"ca624275-543b-4982-9574-36e19c477f79\", \"code\": \"export.validation_failed\", \"extras\": {\"schema\": \"function_profile\", \"files\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet\"]}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271005.5303206, "msecs": 530.0, "relativeCreated": 14562.222267, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:45"}, {"name": "codeintel.cli", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Validation failed for schema function_profile\", \"instance\": \"ca624275-543b-4982-9574-36e19c477f79\", \"code\": \"export.validation_failed\", \"extras\": {\"schema\": \"function_profile\", \"files\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw6/test_docs_export_validation_fl0/out_validate/function_profile.parquet\"]}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271005.5306532, "msecs": 530.0, "relativeCreated": 14562.554619, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:45"}], "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014980500054662116, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_strict_schema_flag_enforces_views", "lineno": 235, "outcome": "passed", "keywords": ["test_strict_schema_flag_enforces_views", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005091780003567692, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.48112441699777264, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014558600014424883, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_builder_inserts_round_trip", "lineno": 57, "outcome": "passed", "keywords": ["test_builder_inserts_round_trip", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006436629992094822, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.5222741539982962, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017470600141678005, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_function_history.py::test_function_history_respects_min_threshold", "lineno": 104, "outcome": "passed", "keywords": ["test_function_history_respects_min_threshold", "test_function_history.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4677851569977065, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.19159278299775906, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024573433998739347, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_exports.py::test_domain_exports[codeintel.analytics.parsing-expected3]", "lineno": 61, "outcome": "passed", "keywords": ["test_domain_exports[codeintel.analytics.parsing-expected3]", "parametrize", "pytestmark", "codeintel.analytics.parsing-expected3", "test_analytics_exports.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00043267499859211966, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001279540010727942, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.241299994755536e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_graph_boundary.py::test_analytics_modules_do_not_import_nx_views", "lineno": 9, "outcome": "passed", "keywords": ["test_analytics_modules_do_not_import_nx_views", "test_analytics_graph_boundary.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 9.178300024359487e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0010943989982479252, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.287300053983927e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_analytics_imports.py::test_external_imports_use_domain_apis", "lineno": 28, "outcome": "passed", "keywords": ["test_external_imports_use_domain_apis", "test_analytics_imports.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.00020098700042581186, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.006367214002239052, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013544499961426482, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/architecture/test_duckdb_boundaries.py::test_duckdb_usage_is_localized", "lineno": 9, "outcome": "passed", "keywords": ["test_duckdb_usage_is_localized", "test_duckdb_boundaries.py", "architecture", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001384349998261314, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.003999421001935843, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014601599832531065, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_resolution.py::test_resolve_callee_import_alias_global_attr_chain", "lineno": 38, "outcome": "passed", "keywords": ["test_resolve_callee_import_alias_global_attr_chain", "test_callgraph_resolution.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002547690019127913, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001852569985203445, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.581200068467297e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_resolution.py::test_resolve_callee_unresolved_returns_none", "lineno": 60, "outcome": "passed", "keywords": ["test_resolve_callee_unresolved_returns_none", "test_callgraph_resolution.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 6.87120009388309e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.15729979169555e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.419200169853866e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_resolution.py::test_resolve_via_scip_uses_crosswalk_mapping", "lineno": 78, "outcome": "passed", "keywords": ["test_resolve_via_scip_uses_crosswalk_mapping", "test_callgraph_resolution.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001091739977709949, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00016318599955411628, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.377200043061748e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_resolution.py::test_dedupe_includes_repo_commit_scope", "lineno": 93, "outcome": "passed", "keywords": ["test_dedupe_includes_repo_commit_scope", "test_callgraph_resolution.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 7.26529979147017e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001351649989373982, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.5382002756232396e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_engine_factory.py::test_build_graph_engine_uses_backend_flags", "lineno": 12, "outcome": "passed", "keywords": ["test_build_graph_engine_uses_backend_flags", "test_engine_factory.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 8.716299998923205e-05, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.756036987000698, "outcome": "passed", "stderr": "14:16:42.460 | ERROR   | codeintel.graphs.nx_backend - Failed to enable GPU backend; continuing with CPU backend.\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 32, in _enable_nx_cugraph_backend\n    nx_cugraph.set_default_backend()  # type: ignore[attr-defined]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'nx_cugraph' has no attribute 'set_default_backend'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 36, in _enable_nx_cugraph_backend\n    raise RuntimeError(message) from exc\nRuntimeError: nx_cugraph.set_default_backend is not available for this version.\n", "log": [{"name": "codeintel.graphs.nx_backend", "msg": "Failed to enable GPU backend; continuing with CPU backend.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py", "filename": "nx_backend.py", "module": "nx_backend", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 32, in _enable_nx_cugraph_backend\n    nx_cugraph.set_default_backend()  # type: ignore[attr-defined]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'nx_cugraph' has no attribute 'set_default_backend'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 36, in _enable_nx_cugraph_backend\n    raise RuntimeError(message) from exc\nRuntimeError: nx_cugraph.set_default_backend is not available for this version.", "stack_info": null, "lineno": 83, "funcName": "maybe_enable_nx_gpu", "created": 1764271002.4603903, "msecs": 460.0, "relativeCreated": 11441.531886, "thread": 138267996055360, "threadName": "MainThread", "processName": "MainProcess", "process": 308827, "taskName": null, "asctime": "14:16:42"}], "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017712699991534464, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_function_validation_export.py::test_function_validation_export", "lineno": 16, "outcome": "passed", "keywords": ["test_function_validation_export", "test_function_validation_export.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 3.476498153999273, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.137124747998314, "outcome": "passed", "stderr": "14:16:42.258 | WARNING | codeintel.pipeline.export.export_jsonl - core.repo_map is empty; skipping repo_map.json export\n", "log": [{"name": "codeintel.pipeline.export.export_jsonl", "msg": "core.repo_map is empty; skipping repo_map.json export", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/pipeline/export/export_jsonl.py", "filename": "export_jsonl.py", "module": "export_jsonl", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 552, "funcName": "export_repo_map_json", "created": 1764271002.258097, "msecs": 258.0, "relativeCreated": 11142.397524, "thread": 129531624986432, "threadName": "MainThread", "processName": "MainProcess", "process": 308997, "taskName": null, "asctime": "14:16:42"}], "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027549127997190226, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_catalog_provider_usage.py::test_profiles_use_catalog_module_map_when_modules_table_empty", "lineno": 171, "outcome": "passed", "keywords": ["test_profiles_use_catalog_module_map_when_modules_table_empty", "test_catalog_provider_usage.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4671115429991914, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.5130796199991892, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.029348521002248162, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_nx_backend.py::test_maybe_enable_nx_gpu_raises_when_strict", "lineno": 36, "outcome": "passed", "keywords": ["test_maybe_enable_nx_gpu_raises_when_strict", "test_nx_backend.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002487089986971114, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0027906769973924384, "outcome": "passed", "stderr": "14:16:41.786 | ERROR   | codeintel.graphs.nx_backend - Failed to enable GPU backend (strict=True).\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/tests/cli/test_nx_backend.py\", line 43, in _fail\n    raise RuntimeError(message)\nRuntimeError: backend missing\n", "log": [{"name": "codeintel.graphs.nx_backend", "msg": "Failed to enable GPU backend (strict=True).", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py", "filename": "nx_backend.py", "module": "nx_backend", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/tests/cli/test_nx_backend.py\", line 43, in _fail\n    raise RuntimeError(message)\nRuntimeError: backend missing", "stack_info": null, "lineno": 81, "funcName": "maybe_enable_nx_gpu", "created": 1764271001.7862449, "msecs": 786.0, "relativeCreated": 10801.329469, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:41"}], "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.966300083557144e-05, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_text_output", "lineno": 54, "outcome": "passed", "keywords": ["test_list_steps_text_output", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003621830001065973, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.003729781001311494, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014318500325316563, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_json_output", "lineno": 64, "outcome": "passed", "keywords": ["test_list_steps_json_output", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00034856199999921955, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.005722721998608904, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012969500312465243, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_pipeline_cli.py::test_list_steps_filter_by_phase", "lineno": 82, "outcome": "passed", "keywords": ["test_list_steps_filter_by_phase", "test_pipeline_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002388280008744914, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0024276650001411326, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012280399823794141, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_catalog_provider_usage.py::test_symbol_uses_falls_back_to_modules_when_catalog_partial", "lineno": 87, "outcome": "passed", "keywords": ["test_symbol_uses_falls_back_to_modules_when_catalog_partial", "test_catalog_provider_usage.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4738413189988933, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4617522359985742, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.048744872998213395, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_stats_validation.py::test_graph_stats_include_symbol_and_config_graphs", "lineno": 56, "outcome": "passed", "keywords": ["test_graph_stats_include_symbol_and_config_graphs", "test_graph_stats_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.436591410998517, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.23396966200016323, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026310024000849808, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_engine_factory.py::test_build_graph_engine_cpu_backend_leaves_env_clean", "lineno": 34, "outcome": "passed", "keywords": ["test_build_graph_engine_cpu_backend_leaves_env_clean", "test_engine_factory.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.00017980600023292936, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.44090074300038395, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00015569500101264566, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_functions_validation.py::test_span_not_found_is_recorded", "lineno": 80, "outcome": "passed", "keywords": ["test_span_not_found_is_recorded", "test_functions_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.438940784002625, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.286824438997428, "outcome": "passed", "stderr": "14:16:43.898 | WARNING | codeintel.analytics.functions.metrics - Function validation gaps: parse_failed=0 span_not_found=1\n", "log": [{"name": "codeintel.analytics.functions.metrics", "msg": "Function validation gaps: parse_failed=0 span_not_found=1", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/functions/metrics.py", "filename": "metrics.py", "module": "metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 765, "funcName": "compute_function_metrics_and_types", "created": 1764271003.8982558, "msecs": 898.0, "relativeCreated": 12943.883078, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:43"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03097769799933303, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_all_writes_expected_files", "lineno": 36, "outcome": "passed", "keywords": ["test_export_all_writes_expected_files", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.6110929230017064, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.1213185430024168, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.010171967001951998, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_engine_nx.py::test_engine_matches_nx_views_for_core_graphs", "lineno": 46, "outcome": "failed", "keywords": ["test_engine_matches_nx_views_for_core_graphs", "test_engine_nx.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.00014649600052507594, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.44429841300006956, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/tests/graphs/test_engine_nx.py", "lineno": 147, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/graphs/test_engine_nx.py", "lineno": 147, "message": "TypeError"}], "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\n    def test_engine_matches_nx_views_for_core_graphs() -> None:\n        \"\"\"NxGraphEngine should produce the same graphs as direct nx_views loaders.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        try:\n            repo = \"demo/repo\"\n            commit = \"deadbeef\"\n            insert_call_graph_nodes(\n                gateway,\n                [\n                    CallGraphNodeRow(1, \"python\", \"function\", 0, is_public=True, rel_path=\"pkg/a.py\"),\n                    CallGraphNodeRow(2, \"python\", \"function\", 0, is_public=True, rel_path=\"pkg/b.py\"),\n                ],\n            )\n            insert_call_graph_edges(\n                gateway,\n                [\n                    CallGraphEdgeRow(\n                        repo=repo,\n                        commit=commit,\n                        caller_goid_h128=1,\n                        callee_goid_h128=2,\n                        callsite_path=\"pkg/a.py\",\n                        callsite_line=1,\n                        callsite_col=0,\n                        language=\"python\",\n                        kind=\"direct\",\n                        resolved_via=\"local_name\",\n                        confidence=1.0,\n                    )\n                ],\n            )\n            insert_import_graph_edges(\n                gateway,\n                [\n                    ImportGraphEdgeRow(\n                        repo=repo,\n                        commit=commit,\n                        src_module=\"pkg.a\",\n                        dst_module=\"pkg.b\",\n                        src_fan_out=1,\n                        dst_fan_in=1,\n                        cycle_group=0,\n                    )\n                ],\n            )\n            insert_modules(\n                gateway,\n                [\n                    ModuleRow(module=\"pkg.a\", path=\"pkg/a.py\", repo=repo, commit=commit),\n                    ModuleRow(module=\"pkg.b\", path=\"pkg/b.py\", repo=repo, commit=commit),\n                ],\n            )\n            insert_symbol_use_edges(\n                gateway,\n                [\n                    SymbolUseEdgeRow(\n                        symbol=\"foo\",\n                        def_path=\"pkg/a.py\",\n                        use_path=\"pkg/b.py\",\n                        same_file=False,\n                        same_module=False,\n                        def_goid_h128=1,\n                        use_goid_h128=2,\n                    )\n                ],\n            )\n            insert_config_values(\n                gateway,\n                [\n                    ConfigValueRow(\n                        repo=repo,\n                        commit=commit,\n                        config_path=\"config.yml\",\n                        format=\"yaml\",\n                        key=\"service.name\",\n                        reference_paths=[\"pkg/a.py\"],\n                        reference_modules=[\"pkg.a\", \"pkg.b\"],\n                        reference_count=1,\n                    )\n                ],\n            )\n            insert_test_coverage_edges(\n                gateway,\n                [\n                    TestCoverageEdgeRow(\n                        test_id=\"test_example\",\n                        function_goid_h128=1,\n                        urn=\"urn:test:example\",\n                        repo=repo,\n                        commit=commit,\n                        rel_path=\"tests/test_example.py\",\n                        qualname=\"test_example\",\n                        covered_lines=1,\n                        executable_lines=1,\n                        coverage_ratio=1.0,\n                        last_status=\"passed\",\n                        created_at=datetime.now(tz=UTC),\n                    )\n                ],\n            )\n>           engine = NxGraphEngine(gateway=gateway, repo=repo, commit=commit)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\ntests/graphs/test_engine_nx.py:147: TypeError"}, "teardown": {"duration": 0.00018040600116364658, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_validate_exports.py::test_validate_jsonl_happy_path", "lineno": 27, "outcome": "passed", "keywords": ["test_validate_jsonl_happy_path", "test_validate_exports.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.0007100749971868936, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0022329690000333358, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.939300070982426e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_validate_exports.py::test_validate_jsonl_failure", "lineno": 49, "outcome": "passed", "keywords": ["test_validate_jsonl_failure", "test_validate_exports.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004010939992440399, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.003495472999929916, "outcome": "passed", "stderr": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property; /tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"instance\": \"46d1ca9b-9666-438a-b246-0af772fb8aa7\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\"]}}\n14:16:43.060 | ERROR   | codeintel.validate_exports - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property; /tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"instance\": \"46d1ca9b-9666-438a-b246-0af772fb8aa7\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\"]}}\n", "log": [{"name": "codeintel.validate_exports", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property; /tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"instance\": \"46d1ca9b-9666-438a-b246-0af772fb8aa7\", \"code\": \"export.validation_failed\", \"extras\": {\"errors\": [\"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\", \"/tmp/pytest-of-paul/pytest-41/popen-gw11/test_validate_jsonl_failure0/edges.jsonl: row=0: 'repo' is a required property\"]}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271003.060173, "msecs": 60.0, "relativeCreated": 12005.692751, "thread": 136357831657280, "threadName": "MainThread", "processName": "MainProcess", "process": 308887, "taskName": null, "asctime": "14:16:43"}], "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001510459987912327, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_validate_exports.py::test_docs_export_views_exist", "lineno": 68, "outcome": "passed", "keywords": ["test_docs_export_views_exist", "test_validate_exports.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.000556238999706693, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.443522176999977, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001484159984102007, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_model_config_heuristics.py::test_data_models_and_usage_and_config_flow", "lineno": 325, "outcome": "failed", "keywords": ["test_data_models_and_usage_and_config_flow", "test_model_config_heuristics.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004545760020846501, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.0961283780015947, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/analytics/test_model_config_heuristics.py", "lineno": 347, "message": ""}, {"path": "src/codeintel/analytics/data_model_usage.py", "lineno": 477, "message": "in compute_data_model_usage"}, {"path": "src/codeintel/analytics/context.py", "lineno": 473, "message": "in ensure_analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw13/test_data_models_and_usage_and0')\n\n    def test_data_models_and_usage_and_config_flow(tmp_path: Path) -> None:\n        \"\"\"Validate heuristics pipeline across SQLAlchemy, Pydantic, usage, and config fixtures.\"\"\"\n        repo_root = tmp_path / \"repo\"\n        repo_root.mkdir()\n        goid_rows, module_rows, goid_index, config_rel_path = _prepare_repo(repo_root)\n    \n        with _gateway_with_schema() as gateway:\n            con = gateway.con\n            _seed_modules(gateway, module_rows)\n            _seed_goids(gateway, goid_rows)\n            _seed_call_graph_nodes(gateway, [row for row in goid_rows if row.kind == \"function\"])\n            _seed_function_types(gateway, goid_rows)\n            _seed_config_values(con, config_rel_path)\n            _seed_entrypoints(con, goid_index[\"config_checks\"])\n    \n            builder = ConfigBuilder.from_snapshot(\n                repo=REPO,\n                commit=COMMIT,\n                repo_root=repo_root,\n            )\n            compute_data_models(gateway, builder.data_models())\n>           compute_data_model_usage(\n                gateway=gateway,\n                cfg=builder.data_model_usage(),\n            )\n\ntests/analytics/test_model_config_heuristics.py:347: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/analytics/data_model_usage.py:477: in compute_data_model_usage\n    shared_context = ensure_analytics_context(\nsrc/codeintel/analytics/context.py:473: in ensure_analytics_context\n    return build_analytics_context(gateway, cfg)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath(':memory:'), read_only=False, apply_schema=True, ensure_views=Tr...ction object at 0x7bb3cbd8e830>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7bb3cbd8e830>))\ncfg = AnalyticsContextConfig(repo='test/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...mbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=False)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.0002724699988903012, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_metrics_calculations.py::test_compute_function_graph_metrics_counts_and_cycles", "lineno": 23, "outcome": "passed", "keywords": ["test_compute_function_graph_metrics_counts_and_cycles", "test_graph_metrics_calculations.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004920680003124289, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.3387364549998892, "outcome": "passed", "stderr": "14:16:45.858 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:45.858 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271005.8585293, "msecs": 858.0, "relativeCreated": 14904.156393, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:45"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271005.8589654, "msecs": 858.0, "relativeCreated": 14904.592688, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:45"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00022854800045024604, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_history_timeseries_cli.py::test_history_timeseries_cli_missing_snapshot", "lineno": 67, "outcome": "passed", "keywords": ["test_history_timeseries_cli_missing_snapshot", "test_history_timeseries_cli.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005578800009971019, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.568820290001895, "outcome": "passed", "stderr": "14:16:46.699 | ERROR   | codeintel.cli - Missing snapshot database for history_timeseries\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/cli/main.py\", line 916, in _cmd_history_timeseries\n    compute_history_timeseries_gateways(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        gateway,\n        ^^^^^^^^\n    ...<2 lines>...\n        runner=runner,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 222, in compute_history_timeseries_gateways\n    compute_history_timeseries(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        history_gateway.con,\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        runner=runner,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 119, in compute_history_timeseries\n    selection = _select_entities(cfg, db_resolver)\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 237, in _select_entities\n    con = db_resolver(base_commit)\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 211, in _db_resolver\n    snapshot_gateway = snapshot_resolver(commit)\n  File \"/home/paul/CodeIntel/src/codeintel/storage/gateway.py\", line 982, in _resolve\n    raise FileNotFoundError(message)\nFileNotFoundError: Missing snapshot database for commit missing: /tmp/pytest-of-paul/pytest-41/popen-gw12/test_history_timeseries_cli_mi0/snapshots/codeintel-missing.duckdb\n", "log": [{"name": "codeintel.cli", "msg": "Missing snapshot database for history_timeseries", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/cli/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/cli/main.py\", line 916, in _cmd_history_timeseries\n    compute_history_timeseries_gateways(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        gateway,\n        ^^^^^^^^\n    ...<2 lines>...\n        runner=runner,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 222, in compute_history_timeseries_gateways\n    compute_history_timeseries(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        history_gateway.con,\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        runner=runner,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 119, in compute_history_timeseries\n    selection = _select_entities(cfg, db_resolver)\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 237, in _select_entities\n    con = db_resolver(base_commit)\n  File \"/home/paul/CodeIntel/src/codeintel/analytics/history/history_timeseries.py\", line 211, in _db_resolver\n    snapshot_gateway = snapshot_resolver(commit)\n  File \"/home/paul/CodeIntel/src/codeintel/storage/gateway.py\", line 982, in _resolve\n    raise FileNotFoundError(message)\nFileNotFoundError: Missing snapshot database for commit missing: /tmp/pytest-of-paul/pytest-41/popen-gw12/test_history_timeseries_cli_mi0/snapshots/codeintel-missing.duckdb", "stack_info": null, "lineno": 923, "funcName": "_cmd_history_timeseries", "created": 1764271006.6995475, "msecs": 699.0, "relativeCreated": 15629.836585, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:16:46"}], "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025973533000069438, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_validation_passes_on_minimal_data", "lineno": 108, "outcome": "passed", "keywords": ["test_export_validation_passes_on_minimal_data", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.5787278870011505, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.546441081998637, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.011241805001191096, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_docs_export_ready_has_non_nulls", "lineno": 113, "outcome": "passed", "keywords": ["test_docs_export_ready_has_non_nulls", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004519260000961367, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.605475166998076, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00020632700034184381, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_loose_gateway_allows_schema_drift", "lineno": 252, "outcome": "passed", "keywords": ["test_loose_gateway_allows_schema_drift", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 3.4524410890007857, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.009085589001188055, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02261614499730058, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_function_index.py::test_lookup_prefers_exact_span_and_qualname", "lineno": 10, "outcome": "passed", "keywords": ["test_lookup_prefers_exact_span_and_qualname", "test_function_index.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003273619986430276, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002840000015567057, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011916400035261177, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_function_index.py::test_lookup_falls_back_to_enclosing_and_same_line", "lineno": 49, "outcome": "passed", "keywords": ["test_lookup_falls_back_to_enclosing_and_same_line", "test_function_index.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 9.521299944026396e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001693559970590286, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.582200148841366e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_goid_builder_decorators.py::test_goid_start_line_includes_decorator_span", "lineno": 14, "outcome": "passed", "keywords": ["test_goid_start_line_includes_decorator_span", "test_goid_builder_decorators.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010782400204334408, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0012103619992558379, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011247400107095018, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_no_ad_hoc_changes.py::test_no_ad_hoc_change_detection[path0]", "lineno": 9, "outcome": "passed", "keywords": ["test_no_ad_hoc_change_detection[path0]", "parametrize", "pytestmark", "path0", "test_no_ad_hoc_changes.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003399220004212111, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023833800150896423, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.273300020140596e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_no_ad_hoc_changes.py::test_no_ad_hoc_change_detection[path1]", "lineno": 9, "outcome": "passed", "keywords": ["test_no_ad_hoc_change_detection[path1]", "parametrize", "pytestmark", "path1", "test_no_ad_hoc_changes.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.00015621599959558807, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001617560010345187, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.720299981883727e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_no_ad_hoc_changes.py::test_no_ad_hoc_change_detection[path2]", "lineno": 9, "outcome": "passed", "keywords": ["test_no_ad_hoc_change_detection[path2]", "parametrize", "pytestmark", "path2", "test_no_ad_hoc_changes.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.00014364500020747073, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00017190600192407146, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.28919985704124e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_py_ast_extract.py::test_ast_visitor_records_decorator_span", "lineno": 13, "outcome": "passed", "keywords": ["test_ast_visitor_records_decorator_span", "test_py_ast_extract.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 7.250199996633455e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0004017040009784978, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.639200000790879e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_runner_plumbing.py::test_repo_scan_honors_scan_profile", "lineno": 23, "outcome": "passed", "keywords": ["test_repo_scan_honors_scan_profile", "test_runner_plumbing.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004635559998860117, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.0312535500015656, "outcome": "passed", "stderr": "14:16:47.265 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=0 matched=0 added=1 modified=0 deleted=0\n14:16:47.267 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 1): ['keep/a.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=0 matched=0 added=1 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271007.265262, "msecs": 265.0, "relativeCreated": 16383.529009, "thread": 133992363181888, "threadName": "MainThread", "processName": "MainProcess", "process": 308741, "taskName": null, "asctime": "14:16:47"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 1): ['keep/a.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271007.267576, "msecs": 267.0, "relativeCreated": 16385.843141, "thread": 133992363181888, "threadName": "MainThread", "processName": "MainProcess", "process": 308741, "taskName": null, "asctime": "14:16:47"}], "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001418249994458165, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_graph_validation_catalog.py::test_graph_validation_orphan_uses_catalog_map", "lineno": 33, "outcome": "passed", "keywords": ["test_graph_validation_orphan_uses_catalog_map", "test_graph_validation_catalog.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 3.443492006001179, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.1469844259991078, "outcome": "passed", "stderr": "14:16:46.227 | WARNING | codeintel.graphs.validation - Validation: 1 module(s) have no GOIDs (sample: pkg/a.py)\n", "log": [{"name": "codeintel.graphs.validation", "msg": "Validation: 1 module(s) have no GOIDs (sample: pkg/a.py)", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/validation.py", "filename": "validation.py", "module": "validation", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 646, "funcName": "_warn_orphan_modules", "created": 1764271006.2279224, "msecs": 227.0, "relativeCreated": 15243.00691, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:46"}], "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.028576654000062263, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_smoke.py::test_export_subset_by_dataset_name", "lineno": 120, "outcome": "passed", "keywords": ["test_export_subset_by_dataset_name", "test_export_smoke.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.6006615469996177, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.9302060279987927, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.01127706700208364, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_cfg_dfg_metrics_ext.py::test_cfg_metrics_ext_populates_loop_and_unreachable_counts", "lineno": 110, "outcome": "passed", "keywords": ["test_cfg_metrics_ext_populates_loop_and_unreachable_counts", "test_cfg_dfg_metrics_ext.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.4354156010012957, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.609584021000046, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.032910466001339955, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_symbol_config_metrics.py::test_symbol_and_config_metrics_populate_and_views_create", "lineno": 35, "outcome": "passed", "keywords": ["test_symbol_and_config_metrics_populate_and_views_create", "test_symbol_config_metrics.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.423269203998643, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.0736558989992773, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.028693517997453455, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_stats_validation.py::test_subsystem_agreement_summary_aggregates", "lineno": 109, "outcome": "passed", "keywords": ["test_subsystem_agreement_summary_aggregates", "test_graph_stats_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.41566445799981, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.3458906649975688, "outcome": "passed", "stderr": "14:16:46.192 | WARNING | codeintel.analytics.graphs.subsystem_agreement - Subsystem/import community disagreement: 1 modules (sample: pkg.a) for demo/repo@abc123\n", "log": [{"name": "codeintel.analytics.graphs.subsystem_agreement", "msg": "Subsystem/import community disagreement: 1 modules (sample: pkg.a) for demo/repo@abc123", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/graphs/subsystem_agreement.py", "filename": "subsystem_agreement.py", "module": "subsystem_agreement", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "compute_subsystem_agreement", "created": 1764271006.1929653, "msecs": 192.0, "relativeCreated": 15072.583642, "thread": 130858829756224, "threadName": "MainThread", "processName": "MainProcess", "process": 309031, "taskName": null, "asctime": "14:16:46"}], "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.030375218000699533, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_metrics_calculations.py::test_compute_module_graph_metrics_with_symbol_coupling", "lineno": 58, "outcome": "passed", "keywords": ["test_compute_module_graph_metrics_with_symbol_coupling", "test_graph_metrics_calculations.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005083780015411321, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.218388916000549, "outcome": "passed", "stderr": "14:16:48.162 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:48.163 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271008.162583, "msecs": 162.0, "relativeCreated": 17208.210119, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:48"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod_b.py', 'pkg/mod_a.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271008.1630318, "msecs": 163.0, "relativeCreated": 17208.658885, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:48"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017897699945024215, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_graph_validation_export.py::test_graph_validation_export", "lineno": 15, "outcome": "passed", "keywords": ["test_graph_validation_export", "usefixtures", "pytestmark", "test_graph_validation_export.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 3.4291289700013294, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.707187921001605, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0231595240002207, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_validate_exports.py::test_export_raises_on_validation_failure", "lineno": 76, "outcome": "passed", "keywords": ["test_export_raises_on_validation_failure", "test_validate_exports.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.00043883599937544204, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.91488068399849, "outcome": "passed", "stderr": "14:16:51.389 | ERROR   | codeintel.pipeline.export.export_parquet - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; schema mismatches: analytics.function_profile\", \"instance\": \"d04eb6e0-f4ca-4537-9cf7-7c06f51d8113\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}\n", "log": [{"name": "codeintel.pipeline.export.export_parquet", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; schema mismatches: analytics.function_profile\", \"instance\": \"d04eb6e0-f4ca-4537-9cf7-7c06f51d8113\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271011.3896496, "msecs": 389.0, "relativeCreated": 20335.169395, "thread": 136357831657280, "threadName": "MainThread", "processName": "MainProcess", "process": 308887, "taskName": null, "asctime": "14:16:51"}], "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00015754600099171512, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_nx_backend.py::test_maybe_enable_nx_gpu_noop_when_disabled", "lineno": 13, "outcome": "passed", "keywords": ["test_maybe_enable_nx_gpu_noop_when_disabled", "test_nx_backend.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00016956599938566796, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003758330021810252, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011463400005595759, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/cli/test_nx_backend.py::test_maybe_enable_nx_gpu_soft_fallback", "lineno": 20, "outcome": "passed", "keywords": ["test_maybe_enable_nx_gpu_soft_fallback", "test_nx_backend.py", "cli", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010419300087960437, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0009939849987858906, "outcome": "passed", "stderr": "14:16:46.731 | ERROR   | codeintel.graphs.nx_backend - Failed to enable GPU backend; continuing with CPU backend.\nTraceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/tests/cli/test_nx_backend.py\", line 27, in _fail\n    raise RuntimeError(message)\nRuntimeError: backend missing\n", "log": [{"name": "codeintel.graphs.nx_backend", "msg": "Failed to enable GPU backend; continuing with CPU backend.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py", "filename": "nx_backend.py", "module": "nx_backend", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/paul/CodeIntel/src/codeintel/graphs/nx_backend.py\", line 78, in maybe_enable_nx_gpu\n    enable_backend()\n    ~~~~~~~~~~~~~~^^\n  File \"/home/paul/CodeIntel/tests/cli/test_nx_backend.py\", line 27, in _fail\n    raise RuntimeError(message)\nRuntimeError: backend missing", "stack_info": null, "lineno": 83, "funcName": "maybe_enable_nx_gpu", "created": 1764271006.7311618, "msecs": 731.0, "relativeCreated": 15661.450756, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:16:46"}], "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010060400018119253, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/lint/test_no_legacy_data_model_json.py::test_no_legacy_json_usage_outside_whitelist", "lineno": 17, "outcome": "passed", "keywords": ["test_no_legacy_json_usage_outside_whitelist", "test_no_legacy_data_model_json.py", "lint", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002315479978278745, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.008718826000404079, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00012939500084030442, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_span_consistency_integration.py::test_span_alignment_across_components", "lineno": 48, "outcome": "passed", "keywords": ["test_span_alignment_across_components", "test_span_consistency_integration.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 3.423371788998338, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.989332198001648, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.030975439000030747, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/_helpers/test_helpers_roundtrip.py::test_strict_fixtures_expose_views", "lineno": 262, "outcome": "passed", "keywords": ["test_strict_fixtures_expose_views", "test_helpers_roundtrip.py", "_helpers", "tests", "CodeIntel", ""], "setup": {"duration": 12.959404891000304, "outcome": "passed", "stderr": "14:16:44.363 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:44.365 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271004.3637142, "msecs": 363.0, "relativeCreated": 13465.903712, "thread": 132021851227968, "threadName": "MainThread", "processName": "MainProcess", "process": 308744, "taskName": null, "asctime": "14:16:44"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271004.3656945, "msecs": 365.0, "relativeCreated": 13467.883922, "thread": 132021851227968, "threadName": "MainThread", "processName": "MainProcess", "process": 308744, "taskName": null, "asctime": "14:16:44"}], "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0012949459996889345, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.05979897100041853, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_ast_utils.py::test_call_name_resolves_attribute_chain", "lineno": 11, "outcome": "passed", "keywords": ["test_call_name_resolves_attribute_chain", "test_ast_utils.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00024121800015564077, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00019543700182111934, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.286299998871982e-05, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_ast_utils.py::test_resolve_call_target_uses_alias_map", "lineno": 18, "outcome": "passed", "keywords": ["test_resolve_call_target_uses_alias_map", "test_ast_utils.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.552299939561635e-05, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012048500138917007, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.899299842189066e-05, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_ast_utils.py::test_literal_value_coercions", "lineno": 30, "outcome": "passed", "keywords": ["test_literal_value_coercions", "test_ast_utils.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.536300108768046e-05, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00013957500050310045, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.350200055749156e-05, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_runner_plumbing.py::test_coverage_ingest_uses_runner", "lineno": 54, "outcome": "passed", "keywords": ["test_coverage_ingest_uses_runner", "test_runner_plumbing.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.00041680399954202585, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.4277379819977796, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017674600167083554, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_validate_exports.py::test_export_logs_problem_detail_on_validation_failure", "lineno": 100, "outcome": "passed", "keywords": ["test_export_logs_problem_detail_on_validation_failure", "test_validate_exports.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 0.000458435999462381, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.90837458599708, "outcome": "passed", "stderr": "14:16:52.175 | ERROR   | codeintel.pipeline.export.export_jsonl - {\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; schema mismatches: analytics.function_profile\", \"instance\": \"1bb32b2c-6248-4827-a0f2-83bccc497bd4\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}\n", "log": [{"name": "codeintel.pipeline.export.export_jsonl", "msg": "{\"type\": \"https://problems.codeintel.dev/export.validation_failed\", \"title\": \"Export validation failed\", \"detail\": \"Dataset registry validation failed; schema mismatches: analytics.function_profile\", \"instance\": \"1bb32b2c-6248-4827-a0f2-83bccc497bd4\", \"code\": \"export.validation_failed\", \"extras\": {\"stage\": \"dataset_registry\"}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271012.1757264, "msecs": 175.0, "relativeCreated": 21207.627764, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:52"}], "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00032901200029300526, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_import_resolver.py::test_collect_import_edges_relative_resolution", "lineno": 32, "outcome": "passed", "keywords": ["test_collect_import_edges_relative_resolution", "test_import_resolver.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002714490001380909, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0018393250029475894, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.342300134245306e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_import_resolver.py::test_collect_import_edges_deep_relative_and_multi_targets", "lineno": 51, "outcome": "passed", "keywords": ["test_collect_import_edges_deep_relative_and_multi_targets", "test_import_resolver.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 8.142300066538155e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0008424190018558875, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.593200280098245e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_import_resolver.py::test_collect_aliases_handles_from_import_aliases_and_packages", "lineno": 73, "outcome": "passed", "keywords": ["test_collect_aliases_handles_from_import_aliases_and_packages", "test_import_resolver.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 7.441300112986937e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.000648773002467351, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.770199979655445e-05, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_runner_plumbing.py::test_typing_ingest_uses_shared_runner", "lineno": 85, "outcome": "passed", "keywords": ["test_typing_ingest_uses_shared_runner", "test_runner_plumbing.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006339629981084727, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.6371639219978533, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00021878700135857798, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_profiles.py::test_profile_builders_aggregate_expected_fields", "lineno": 86, "outcome": "passed", "keywords": ["test_profile_builders_aggregate_expected_fields", "test_profiles.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.7043215130033786, "outcome": "passed", "stderr": "14:16:46.967 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:16:46.970 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271006.9679732, "msecs": 967.0, "relativeCreated": 15875.667543, "thread": 136016439764800, "threadName": "MainThread", "processName": "MainProcess", "process": 308932, "taskName": null, "asctime": "14:16:46"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271006.9700232, "msecs": 970.0, "relativeCreated": 15877.717745, "thread": 136016439764800, "threadName": "MainThread", "processName": "MainProcess", "process": 308932, "taskName": null, "asctime": "14:16:46"}], "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.6712260479980614, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.011009236997779226, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_parity.py::test_export_mappings_cover_required_tables", "lineno": 7, "outcome": "passed", "keywords": ["test_export_mappings_cover_required_tables", "test_export_parity.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 4.586121770000318, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0004815170032088645, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.038940647998970235, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_change_tracker.py::test_view_for_dataset_respects_module_filter_and_deleted_paths", "lineno": 78, "outcome": "passed", "keywords": ["test_view_for_dataset_respects_module_filter_and_deleted_paths", "test_change_tracker.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 3.411022865999257, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00026114900174434297, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02709837200018228, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_semantic_roles_signals.py::test_fastapi_role_detected", "lineno": 25, "outcome": "passed", "keywords": ["test_fastapi_role_detected", "test_semantic_roles_signals.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001447950016881805, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003009309984918218, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.38230007502716e-05, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_cfg_dfg_metrics_ext.py::test_dfg_metrics_ext_counts_use_kinds_and_paths", "lineno": 143, "outcome": "passed", "keywords": ["test_dfg_metrics_ext_counts_use_kinds_and_paths", "test_cfg_dfg_metrics_ext.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.415415611001663, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4984998479994829, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.032114499001181684, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_graph_stats_validation.py::test_validation_flags_large_symbol_community_and_config_hubs", "lineno": 195, "outcome": "failed", "keywords": ["test_validation_flags_large_symbol_community_and_config_hubs", "test_graph_stats_validation.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.402173026002856, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.03200492399992072, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/tests/analytics/test_graph_stats_validation.py", "lineno": 272, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/analytics/test_graph_stats_validation.py", "lineno": 272, "message": "TypeError"}], "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw15/test_validation_flags_...ction object at 0x770345ef5330>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x770345ef5330>))\n\n    def test_validation_flags_large_symbol_community_and_config_hubs(\n        fresh_gateway: StorageGateway,\n    ) -> None:\n        \"\"\"Surface validation warnings for oversized symbol communities and config hubs.\"\"\"\n        gateway = fresh_gateway\n        _seed_modules(gateway)\n        # Seed symbol metrics table with a large community id\n        insert_symbol_graph_metrics_modules(\n            gateway,\n            [\n                SymbolGraphMetricsModulesRow(\n                    repo=REPO,\n                    commit=COMMIT,\n                    module=\"pkg.a\",\n                    symbol_betweenness=0.0,\n                    symbol_closeness=0.0,\n                    symbol_eigenvector=0.0,\n                    symbol_harmonic=0.0,\n                    symbol_k_core=1,\n                    symbol_constraint=0.0,\n                    symbol_effective_size=0.0,\n                    symbol_community_id=99,\n                    symbol_component_id=0,\n                    symbol_component_size=1,\n                    created_at=datetime.now(UTC),\n                ),\n                SymbolGraphMetricsModulesRow(\n                    repo=REPO,\n                    commit=COMMIT,\n                    module=\"pkg.b\",\n                    symbol_betweenness=0.0,\n                    symbol_closeness=0.0,\n                    symbol_eigenvector=0.0,\n                    symbol_harmonic=0.0,\n                    symbol_k_core=1,\n                    symbol_constraint=0.0,\n                    symbol_effective_size=0.0,\n                    symbol_community_id=99,\n                    symbol_component_id=0,\n                    symbol_component_size=1,\n                    created_at=datetime.now(UTC),\n                ),\n                SymbolGraphMetricsModulesRow(\n                    repo=REPO,\n                    commit=COMMIT,\n                    module=\"pkg.c\",\n                    symbol_betweenness=0.0,\n                    symbol_closeness=0.0,\n                    symbol_eigenvector=0.0,\n                    symbol_harmonic=0.0,\n                    symbol_k_core=1,\n                    symbol_constraint=0.0,\n                    symbol_effective_size=0.0,\n                    symbol_community_id=99,\n                    symbol_component_id=0,\n                    symbol_component_size=1,\n                    created_at=datetime.now(UTC),\n                ),\n            ],\n        )\n        insert_config_values(\n            gateway,\n            [\n                ConfigValueRow(\n                    repo=REPO,\n                    commit=COMMIT,\n                    config_path=\"cfg/app.yaml\",\n                    format=\"yaml\",\n                    key=\"wide.key\",\n                    reference_paths=[],\n                    reference_modules=[\"pkg.a\", \"pkg.b\", \"pkg.c\"],\n                    reference_count=3,\n                )\n            ],\n        )\n    \n>       engine = NxGraphEngine(gateway=gateway, repo=REPO, commit=COMMIT)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\ntests/analytics/test_graph_stats_validation.py:272: TypeError"}, "teardown": {"duration": 0.023867789001087658, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_symbol_uses_module_fallback.py::test_partial_catalog_map_falls_back_to_db", "lineno": 38, "outcome": "passed", "keywords": ["test_partial_catalog_map_falls_back_to_db", "test_symbol_uses_module_fallback.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004812869992747437, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.9066631049972784, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014596599794458598, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_import_modules.py::test_import_modules_matches_condensation_layers", "lineno": 88, "outcome": "passed", "keywords": ["test_import_modules_matches_condensation_layers", "test_import_modules.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 3.4069902939991152, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.875218525998207, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026503651002713013, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_tool_runner.py::test_tool_runner_unknown_tool", "lineno": 22, "outcome": "passed", "keywords": ["test_tool_runner_unknown_tool", "test_tool_runner.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005436289975477848, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0005979510024189949, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.418400077265687e-05, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_validation.py::test_run_graph_validations_emits_warnings", "lineno": 14, "outcome": "passed", "keywords": ["test_run_graph_validations_emits_warnings", "test_validation.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 3.394794666000962, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 1.1495151050003187, "outcome": "passed", "stderr": "14:16:50.888 | WARNING | codeintel.graphs.validation - Validation: 1 call graph edges fall outside caller spans (sample: pkg/b.py:50)\n14:16:50.890 | WARNING | codeintel.graphs.validation - Validation: 1 module(s) have no GOIDs (sample: pkg/a.py)\n", "log": [{"name": "codeintel.graphs.validation", "msg": "Validation: 1 call graph edges fall outside caller spans (sample: pkg/b.py:50)", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/validation.py", "filename": "validation.py", "module": "validation", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 183, "funcName": "_warn_callsite_span_mismatches", "created": 1764271010.8885138, "msecs": 888.0, "relativeCreated": 19852.98239, "thread": 124455473149760, "threadName": "MainThread", "processName": "MainProcess", "process": 308861, "taskName": null, "asctime": "14:16:50"}, {"name": "codeintel.graphs.validation", "msg": "Validation: 1 module(s) have no GOIDs (sample: pkg/a.py)", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/graphs/validation.py", "filename": "validation.py", "module": "validation", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 646, "funcName": "_warn_orphan_modules", "created": 1764271010.8904004, "msecs": 890.0, "relativeCreated": 19854.869156, "thread": 124455473149760, "threadName": "MainThread", "processName": "MainProcess", "process": 308861, "taskName": null, "asctime": "14:16:50"}], "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.030854704000375932, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_scip_ingest.py::test_ingest_scip_produces_artifacts", "lineno": 14, "outcome": "skipped", "keywords": ["test_ingest_scip_produces_artifacts", "test_scip_ingest.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004850270015595015, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.395359426998766, "outcome": "skipped", "stderr": "14:16:52.527 | WARNING | codeintel.ingestion.scip_ingest - SCIP ingest failed: Tool scip-python failed (code=127)\nArgs: ('index', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo', '--output', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo/build/scip/index.scip')\nstderr: /usr/bin/env: 'node': No such file or directory\n", "log": [{"name": "codeintel.ingestion.scip_ingest", "msg": "SCIP ingest failed: Tool scip-python failed (code=127)\nArgs: ('index', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo', '--output', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo/build/scip/index.scip')\nstderr: /usr/bin/env: 'node': No such file or directory", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/scip_ingest.py", "filename": "scip_ingest.py", "module": "scip_ingest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "ingest_scip", "created": 1764271012.5271976, "msecs": 527.0, "relativeCreated": 21572.824877, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:16:52"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n('/home/paul/CodeIntel/tests/ingestion/test_scip_ingest.py', 56, \"Skipped: SCIP ingestion not successful in test environment: Tool scip-python failed (code=127)\\nArgs: ('index', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo', '--output', '/tmp/pytest-of-paul/pytest-41/popen-gw5/test_ingest_scip_produces_arti0/repo/build/scip/index.scip')\\nstderr: /usr/bin/env: 'node': No such file or directory\")"}, "teardown": {"duration": 0.00016094499733299017, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_get_function_summary", "lineno": 39, "outcome": "passed", "keywords": ["test_get_function_summary", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.506993449998845, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0023703139995632228, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03299386000071536, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_symbol_config_metrics.py::test_subsystem_agreement_exposed_in_views", "lineno": 103, "outcome": "passed", "keywords": ["test_subsystem_agreement_exposed_in_views", "test_symbol_config_metrics.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 3.386948070998187, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.33791655500317574, "outcome": "passed", "stderr": "14:16:50.428 | WARNING | codeintel.analytics.graphs.subsystem_agreement - Subsystem/import community disagreement: 1 modules (sample: pkg.a) for demo/repo@abc123\n", "log": [{"name": "codeintel.analytics.graphs.subsystem_agreement", "msg": "Subsystem/import community disagreement: 1 modules (sample: pkg.a) for demo/repo@abc123", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/analytics/graphs/subsystem_agreement.py", "filename": "subsystem_agreement.py", "module": "subsystem_agreement", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "compute_subsystem_agreement", "created": 1764271010.428988, "msecs": 428.0, "relativeCreated": 19493.724055, "thread": 140705306662720, "threadName": "MainThread", "processName": "MainProcess", "process": 308750, "taskName": null, "asctime": "14:16:50"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02627064300031634, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_scip_ingest_ops.py::test_scip_module_filter_limits_to_src_python_files", "lineno": 16, "outcome": "passed", "keywords": ["test_scip_module_filter_limits_to_src_python_files", "test_scip_ingest_ops.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006416620017262176, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.007355557998380391, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001667159995122347, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_subprocess_policy.py::test_no_direct_subprocess_usage_outside_tooling", "lineno": 9, "outcome": "passed", "keywords": ["test_no_direct_subprocess_usage_outside_tooling", "test_subprocess_policy.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.00012007399709546007, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.008886682997399475, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001287039995077066, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_tool_runner.py::test_tool_runner_missing_binary", "lineno": 12, "outcome": "passed", "keywords": ["test_tool_runner_missing_binary", "test_tool_runner.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004121140009374358, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0007005349980317988, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014203500177245587, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_duckdb_backend_engine.py::test_duckdb_backend_uses_injected_engine", "lineno": 12, "outcome": "failed", "keywords": ["test_duckdb_backend_uses_injected_engine", "test_duckdb_backend_engine.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 0.00022662800256512128, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.38841115899776923, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/tests/mcp/test_duckdb_backend_engine.py", "lineno": 30, "message": "TypeError: 'NxGraphEngine' object is not callable"}, "traceback": [{"path": "tests/mcp/test_duckdb_backend_engine.py", "lineno": 30, "message": "TypeError"}], "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\n    def test_duckdb_backend_uses_injected_engine() -> None:\n        \"\"\"Backend should reuse a provided graph engine instead of rebuilding.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        try:\n            engine = build_graph_engine(\n                gateway,\n                (\"demo/repo\", \"deadbeef\"),\n                graph_backend=GraphBackendConfig(use_gpu=False, backend=\"cpu\", strict=False),\n            )\n            backend = DuckDBBackend(\n                gateway=gateway,\n                repo=\"demo/repo\",\n                commit=\"deadbeef\",\n                query_engine=engine,\n            )\n            if backend.query is None:\n                pytest.fail(\"DuckDBBackend did not initialize query service\")\n>           if backend.query.graph_engine() is not engine:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           TypeError: 'NxGraphEngine' object is not callable\n\ntests/mcp/test_duckdb_backend_engine.py:30: TypeError"}, "teardown": {"duration": 0.0002271980010846164, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_tool_service.py::test_tool_service_pyright_parses_errors", "lineno": 25, "outcome": "passed", "keywords": ["test_tool_service_pyright_parses_errors", "test_tool_service.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.4792929430004733, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00015481499940506183, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00017608599955565296, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_test_profiles.py::test_flakiness_score_caps_at_one", "lineno": 23, "outcome": "passed", "keywords": ["test_flakiness_score_caps_at_one", "test_test_profiles.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001337649991910439, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001461649990233127, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.716300049447455e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_test_profiles.py::test_behavior_tags_include_ast_and_io_hints", "lineno": 41, "outcome": "passed", "keywords": ["test_behavior_tags_include_ast_and_io_hints", "test_test_profiles.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 0.00011509400064824149, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00017216699779964983, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.294299964793026e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/analytics/test_test_profiles.py::test_importance_score_includes_subsystem_risk", "lineno": 67, "outcome": "passed", "keywords": ["test_importance_score_includes_subsystem_risk", "test_test_profiles.py", "analytics", "tests", "CodeIntel", ""], "setup": {"duration": 7.182199988164939e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00010393399861641228, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.097200093790889e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_registry_limits_parity.py::test_registry_helper_matches_base_registry", "lineno": 31, "outcome": "passed", "keywords": ["test_registry_helper_matches_base_registry", "test_registry_limits_parity.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 0.00025913900026353076, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003948640005546622, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.49819994578138e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_get_tests_for_function", "lineno": 60, "outcome": "passed", "keywords": ["test_get_tests_for_function", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5058166479975625, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0030037349970370997, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0292748890024086, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_import_resolver.py::test_collect_aliases_import_and_from_import", "lineno": 10, "outcome": "passed", "keywords": ["test_collect_aliases_import_and_from_import", "test_import_resolver.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001650849990255665, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.002381204001721926, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011419400107115507, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_graph_engine_sharing.py::test_graph_runtime_reuses_engine", "lineno": 172, "outcome": "failed", "keywords": ["test_graph_runtime_reuses_engine", "test_graph_engine_sharing.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005954910011496395, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.3976280429997132, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/orchestration/test_graph_engine_sharing.py", "lineno": 195, "message": ""}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 354, "message": "in ensure_graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 314, "message": "in _graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 329, "message": "in _graph_runtime"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 299, "message": "in _analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "stderr": "14:16:51.129 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n14:16:51.130 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n", "log": [{"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271011.12962, "msecs": 129.0, "relativeCreated": 20144.704501, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:51"}, {"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271011.1303165, "msecs": 130.0, "relativeCreated": 20145.401195, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:51"}], "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw7/test_graph_runtime_reuses_engi0')\n\n    def test_graph_runtime_reuses_engine(tmp_path: Path) -> None:\n        \"\"\"Shared runtime should expose the same engine instance.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        snapshot = SnapshotRef(repo_root=tmp_path, repo=\"demo/repo\", commit=\"deadbeef\")\n        graph_backend = GraphBackendConfig(use_gpu=False, backend=\"cpu\", strict=False)\n        build_dir = tmp_path / \"build\"\n        paths = BuildPaths.from_layout(\n            repo_root=tmp_path,\n            build_dir=build_dir,\n            db_path=gateway.config.db_path,\n        )\n        ctx = orchestration_steps.PipelineContext(\n            snapshot=snapshot,\n            paths=paths,\n            gateway=gateway,\n            tools=ToolsConfig.default(),\n            code_profile_cfg=_scan_profile(tmp_path),\n            config_profile_cfg=_scan_profile(tmp_path),\n            graph_backend_cfg=graph_backend,\n        )\n    \n        try:\n>           engine = orchestration_steps.ensure_graph_engine(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/orchestration/test_graph_engine_sharing.py:195: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/pipeline/orchestration/core.py:354: in ensure_graph_engine\n    return _graph_engine(ctx, acx)\n           ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:314: in _graph_engine\n    return _graph_runtime(ctx, acx=acx).engine\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:329: in _graph_runtime\n    context = acx or _analytics_context(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:299: in _analytics_context\n    ctx.analytics_context = build_analytics_context(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath(':memory:'), read_only=False, apply_schema=True, ensure_views=Tr...ction object at 0x7d8658e9f430>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7d8658e9f430>))\ncfg = AnalyticsContextConfig(repo='demo/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...mbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=False)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.0001996669998334255, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_registry_limits_parity.py::test_limits_parity_between_local_and_remote_configs", "lineno": 13, "outcome": "passed", "keywords": ["test_limits_parity_between_local_and_remote_configs", "test_registry_limits_parity.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 0.00013328400018508546, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00030355100170709193, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010143299732590094, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_pipeline_catalog_reuse.py::test_steps_share_function_catalog", "lineno": 38, "outcome": "passed", "keywords": ["test_steps_share_function_catalog", "test_pipeline_catalog_reuse.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006077409998397343, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 7.992147668999678, "outcome": "passed", "stderr": "14:16:54.526 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0\n14:16:54.528 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 3): ['pkg/b.py', 'pkg/a.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271014.5262697, "msecs": 526.0, "relativeCreated": 23609.432707, "thread": 135756524627776, "threadName": "MainThread", "processName": "MainProcess", "process": 308747, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 3): ['pkg/b.py', 'pkg/a.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271014.5284736, "msecs": 528.0, "relativeCreated": 23611.636564, "thread": 135756524627776, "threadName": "MainThread", "processName": "MainProcess", "process": 308747, "taskName": null, "asctime": "14:16:54"}], "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001727759990899358, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_graph_engine_sharing.py::test_runtime_reuse_with_graph_context", "lineno": 202, "outcome": "failed", "keywords": ["test_runtime_reuse_with_graph_context", "test_graph_engine_sharing.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004883969995717052, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.3971735679988342, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/orchestration/test_graph_engine_sharing.py", "lineno": 224, "message": ""}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 369, "message": "in ensure_graph_runtime"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 329, "message": "in _graph_runtime"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 299, "message": "in _analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "stderr": "14:16:51.580 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n14:16:51.580 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n", "log": [{"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271011.5802, "msecs": 580.0, "relativeCreated": 20595.284455, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:51"}, {"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271011.580992, "msecs": 580.0, "relativeCreated": 20596.076623, "thread": 138020280497984, "threadName": "MainThread", "processName": "MainProcess", "process": 308759, "taskName": null, "asctime": "14:16:51"}], "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw7/test_runtime_reuse_with_graph_0')\n\n    def test_runtime_reuse_with_graph_context(tmp_path: Path) -> None:\n        \"\"\"Runtime reuse should hold even when a graph context is provided.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        snapshot = SnapshotRef(repo_root=tmp_path, repo=\"demo/repo\", commit=\"deadbeef\")\n        graph_backend = GraphBackendConfig(use_gpu=False, backend=\"cpu\", strict=False)\n        build_dir = tmp_path / \"build\"\n        paths = BuildPaths.from_layout(\n            repo_root=tmp_path,\n            build_dir=build_dir,\n            db_path=gateway.config.db_path,\n        )\n        ctx = orchestration_steps.PipelineContext(\n            snapshot=snapshot,\n            paths=paths,\n            gateway=gateway,\n            tools=ToolsConfig.default(),\n            code_profile_cfg=_scan_profile(tmp_path),\n            config_profile_cfg=_scan_profile(tmp_path),\n            graph_backend_cfg=graph_backend,\n        )\n        try:\n>           runtime_one = orchestration_steps.ensure_graph_runtime(ctx)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/orchestration/test_graph_engine_sharing.py:224: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/pipeline/orchestration/core.py:369: in ensure_graph_runtime\n    return _graph_runtime(ctx, acx=acx)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:329: in _graph_runtime\n    context = acx or _analytics_context(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:299: in _analytics_context\n    ctx.analytics_context = build_analytics_context(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath(':memory:'), read_only=False, apply_schema=True, ensure_views=Tr...ction object at 0x7d86591bae70>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7d86591bae70>))\ncfg = AnalyticsContextConfig(repo='demo/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...mbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=False)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.00019846700160996988, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_tests_for_function_not_found", "lineno": 93, "outcome": "passed", "keywords": ["test_tests_for_function_not_found", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5061305900017032, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0023371919996861834, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03020330199797172, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_prefect_flow_smoke.py::test_prefect_flow_imports", "lineno": 16, "outcome": "passed", "keywords": ["test_prefect_flow_imports", "test_prefect_flow_smoke.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.00016641500042169355, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00011948400060646236, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.593199941562489e-05, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_tool_service.py::test_tool_service_pyrefly_parses_errors", "lineno": 32, "outcome": "passed", "keywords": ["test_tool_service_pyrefly_parses_errors", "test_tool_service.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.49544719999903464, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00016357499771402217, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00010633299825713038, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_read_dataset_rows_unknown", "lineno": 75, "outcome": "passed", "keywords": ["test_read_dataset_rows_unknown", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.4996402020005917, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00037916300061624497, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03223382299984223, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_builder.py::test_callgraph_handles_aliases_and_relative_imports", "lineno": 74, "outcome": "passed", "keywords": ["test_callgraph_handles_aliases_and_relative_imports", "test_callgraph_builder.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005619700023089536, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.7398157220013672, "outcome": "passed", "stderr": "14:16:54.016 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0\n14:16:54.017 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 3): ['_coverage_driver.py', 'pkg/b.py', 'pkg/a.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271014.0169268, "msecs": 16.0, "relativeCreated": 23048.828187, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 3): ['_coverage_driver.py', 'pkg/b.py', 'pkg/a.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271014.017333, "msecs": 17.0, "relativeCreated": 23049.234651, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:16:54"}], "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.000164416000188794, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_tool_service.py::test_tool_service_coverage_reports", "lineno": 39, "outcome": "passed", "keywords": ["test_tool_service_coverage_reports", "test_tool_service.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.4882411879989377, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00014899500092724338, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00011355400056345388, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_build_registry_from_dicts", "lineno": 58, "outcome": "passed", "keywords": ["test_build_registry_from_dicts", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003241910017095506, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001713660021778196, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.106300108716823e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_getitem_raises_keyerror", "lineno": 98, "outcome": "passed", "keywords": ["test_getitem_raises_keyerror", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 7.70920014474541e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00021041799845988862, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.0131998907309026e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_list_all", "lineno": 106, "outcome": "passed", "keywords": ["test_list_all", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 7.105199983925559e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00010761399971670471, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.8172001445200294e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_list_by_phase[StepPhase.INGESTION-expected_names0]", "lineno": 132, "outcome": "passed", "keywords": ["test_list_by_phase[StepPhase.INGESTION-expected_names0]", "parametrize", "pytestmark", "StepPhase.INGESTION-expected_names0", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.00021154700152692385, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00010492400178918615, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.137200009310618e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_list_by_phase[StepPhase.ANALYTICS-expected_names1]", "lineno": 132, "outcome": "passed", "keywords": ["test_list_by_phase[StepPhase.ANALYTICS-expected_names1]", "parametrize", "pytestmark", "StepPhase.ANALYTICS-expected_names1", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003303010016679764, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012473400056478567, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.526300007360987e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_list_by_phase[StepPhase.EXPORT-expected_names2]", "lineno": 132, "outcome": "passed", "keywords": ["test_list_by_phase[StepPhase.EXPORT-expected_names2]", "parametrize", "pytestmark", "StepPhase.EXPORT-expected_names2", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003434729987930041, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002240370013169013, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001337850007985253, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_dependency_graph", "lineno": 162, "outcome": "passed", "keywords": ["test_dependency_graph", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 8.962300125858746e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001228139990416821, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.378200098173693e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_expand_with_deps", "lineno": 189, "outcome": "passed", "keywords": ["test_expand_with_deps", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010629399912431836, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00015775599968037568, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.07220024196431e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_expand_with_deps_unknown_step", "lineno": 211, "outcome": "passed", "keywords": ["test_expand_with_deps_unknown_step", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 8.936300218920223e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012498499927460216, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.809199865325354e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_topological_order", "lineno": 219, "outcome": "passed", "keywords": ["test_topological_order", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 6.711199966957793e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00011450400052126497, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.333200144581497e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_topological_order_cycle_detection", "lineno": 242, "outcome": "passed", "keywords": ["test_topological_order_cycle_detection", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010702399958972819, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00022215799981495366, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.268200013437308e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_as_dict", "lineno": 262, "outcome": "passed", "keywords": ["test_as_dict", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 9.502299872110598e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00010292400111211464, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.81620006414596e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_iteration", "lineno": 273, "outcome": "passed", "keywords": ["test_iteration", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001366240030620247, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012104400229873136, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.53019997116644e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_run_records_context_repo", "lineno": 284, "outcome": "passed", "keywords": ["test_run_records_context_repo", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 7.633299901499413e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 9.471299927099608e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.8032001106766984e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_registry_contains_all_steps", "lineno": 296, "outcome": "passed", "keywords": ["test_registry_contains_all_steps", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 9.68429994827602e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00019127599807688966, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.045299935271032e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_backward_compat_exports", "lineno": 304, "outcome": "passed", "keywords": ["test_backward_compat_exports", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 7.620300311828032e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012012399747618474, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.5212000006577e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_all_steps_have_required_attributes", "lineno": 311, "outcome": "passed", "keywords": ["test_all_steps_have_required_attributes", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 6.574199869646691e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00017669600129011087, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 8.570299905841239e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_step_metadata", "lineno": 327, "outcome": "passed", "keywords": ["test_step_metadata", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 6.836199827375822e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00018943599934573285, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.249199966783635e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_phase_coverage", "lineno": 340, "outcome": "passed", "keywords": ["test_phase_coverage", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 6.880299770273268e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00014327500321087427, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.426200004876591e-05, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_change_tracker.py::test_view_for_dataset_full_rebuild_flag_forces_rebuild", "lineno": 110, "outcome": "passed", "keywords": ["test_view_for_dataset_full_rebuild_flag_forces_rebuild", "test_change_tracker.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 3.4015383039986773, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00031750100242788903, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024985227999422932, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_common_changes.py::test_compute_changes_tracks_add_modify_delete", "lineno": 12, "outcome": "passed", "keywords": ["test_compute_changes_tracks_add_modify_delete", "test_common_changes.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004442160025064368, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.0456299070028763, "outcome": "passed", "stderr": "14:16:53.358 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=0 matched=0 added=1 modified=0 deleted=0\n14:16:53.359 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 1): ['a.py']\n14:16:53.804 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=1 matched=1 added=0 modified=0 deleted=0\n14:16:54.244 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=1 matched=1 added=0 modified=1 deleted=0\n14:16:54.244 | INFO    | codeintel.ingestion.change - modified_paths (first 20 of 1): ['a.py 1de70bc15d424d4453e6c531451e490b->9a97be04ebc5805dbe8e25afab6e2a8e']\n14:16:54.244 | WARNING | codeintel.ingestion.common - Failed to stat /tmp/pytest-of-paul/pytest-41/popen-gw0/test_compute_changes_tracks_ad0/repo/a.py: [Errno 2] No such file or directory: '/tmp/pytest-of-paul/pytest-41/popen-gw0/test_compute_changes_tracks_ad0/repo/a.py'\n14:16:54.544 | INFO    | codeintel.ingestion.change - compute_changes repo=r lang=python prev_rows=1 matched=0 added=0 modified=0 deleted=1\n14:16:54.544 | INFO    | codeintel.ingestion.change - deleted_paths (first 20 of 1): ['a.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=0 matched=0 added=1 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271013.3588564, "msecs": 358.0, "relativeCreated": 22494.59495, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:53"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 1): ['a.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271013.3592722, "msecs": 359.0, "relativeCreated": 22495.010674, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:53"}, {"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=1 matched=1 added=0 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271013.8046176, "msecs": 804.0, "relativeCreated": 22940.356385, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:53"}, {"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=1 matched=1 added=0 modified=1 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271014.2440252, "msecs": 244.0, "relativeCreated": 23379.763926, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.change", "msg": "modified_paths (first 20 of 1): ['a.py 1de70bc15d424d4453e6c531451e490b->9a97be04ebc5805dbe8e25afab6e2a8e']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 424, "funcName": "_log_change_details", "created": 1764271014.2444296, "msecs": 244.0, "relativeCreated": 23380.16825, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.common", "msg": "Failed to stat /tmp/pytest-of-paul/pytest-41/popen-gw0/test_compute_changes_tracks_ad0/repo/a.py: [Errno 2] No such file or directory: '/tmp/pytest-of-paul/pytest-41/popen-gw0/test_compute_changes_tracks_ad0/repo/a.py'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 209, "funcName": "_build_current_state", "created": 1764271014.2446773, "msecs": 244.0, "relativeCreated": 23380.416079, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r lang=python prev_rows=1 matched=0 added=0 modified=0 deleted=1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271014.5443833, "msecs": 544.0, "relativeCreated": 23680.121941, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.ingestion.change", "msg": "deleted_paths (first 20 of 1): ['a.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 434, "funcName": "_log_change_details", "created": 1764271014.5448134, "msecs": 544.0, "relativeCreated": 23680.551897, "thread": 133454544811840, "threadName": "MainThread", "processName": "MainProcess", "process": 308738, "taskName": null, "asctime": "14:16:54"}], "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.009462423000513809, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_scip_ingest.py::test_ingest_scip_uses_injected_runner", "lineno": 79, "outcome": "passed", "keywords": ["test_ingest_scip_uses_injected_runner", "test_scip_ingest.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 0.000546898998436518, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.426518471998861, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00020720700194942765, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_symbol_uses_module_fallback.py::test_no_module_mapping_keeps_same_module_false", "lineno": 63, "outcome": "passed", "keywords": ["test_no_module_mapping_keeps_same_module_false", "test_symbol_uses_module_fallback.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.00051409800289548, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.898038583000016, "outcome": "passed", "stderr": "14:16:55.112 | WARNING | codeintel.storage.module_index - No modules found in core.modules for r@c\n", "log": [{"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for r@c", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271015.113, "msecs": 112.0, "relativeCreated": 24094.141372, "thread": 138267996055360, "threadName": "MainThread", "processName": "MainProcess", "process": 308827, "taskName": null, "asctime": "14:16:55"}], "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00016286599930026568, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend_adapter.py::test_require_identifier_validation", "lineno": 13, "outcome": "passed", "keywords": ["test_require_identifier_validation", "test_backend_adapter.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.401307406998967, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0016779690013208892, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024593314999947324, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/docs_export/test_export_parity.py::test_export_mappings_registered_with_dataset_registry", "lineno": 66, "outcome": "passed", "keywords": ["test_export_mappings_registered_with_dataset_registry", "test_export_parity.py", "docs_export", "tests", "CodeIntel", ""], "setup": {"duration": 4.558938596997905, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0002199970003857743, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03540839500055881, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend_adapter.py::test_backend_delegates_after_validation", "lineno": 42, "outcome": "passed", "keywords": ["test_backend_delegates_after_validation", "test_backend_adapter.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.403998092002439, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.001116020001063589, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024754730002314318, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_get_function_summary_invalid", "lineno": 48, "outcome": "passed", "keywords": ["test_get_function_summary_invalid", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.50990676299989, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003732330005732365, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.029407222998997895, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_wiring_smoke.py::test_mcp_wiring_smoke", "lineno": 13, "outcome": "failed", "keywords": ["test_mcp_wiring_smoke", "test_wiring_smoke.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.4022883910001838, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.18143278599745827, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/mcp/test_wiring_smoke.py", "lineno": 44, "message": ""}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw4/test_mcp_wiring_smoke0/...ction object at 0x7ff781de75b0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7ff781de75b0>))\n\n    def test_mcp_wiring_smoke(fresh_gateway: StorageGateway) -> None:\n        \"\"\"Server registers tools via shared helper and close hook is invoked.\"\"\"\n        called = False\n        closed = False\n        resource: BackendResource | None = None\n        insert_repo_map(\n            fresh_gateway,\n            [\n                RepoMapRow(\n                    repo=fresh_gateway.config.repo or \"demo/repo\",\n                    commit=fresh_gateway.config.commit or \"deadbeef\",\n                    modules={},\n                    overlays={},\n                )\n            ],\n        )\n    \n        def _register_tools(_server: object, backend_arg: object) -> None:\n            nonlocal called\n            called = True\n            if resource is not None and backend_arg is not resource.service:\n                pytest.fail(\"Registry received unexpected backend service\")\n    \n        cfg = ServingConfig(\n            mode=\"local_db\",\n            repo=fresh_gateway.config.repo or \"demo/repo\",\n            commit=fresh_gateway.config.commit or \"deadbeef\",\n            db_path=fresh_gateway.config.db_path,\n        )\n        backend_factory = build_backend_resource\n>       resource = backend_factory(cfg, gateway=fresh_gateway)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/mcp/test_wiring_smoke.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/home/paul/CodeIntel'), repo='demo/repo', commit='deadbeef', db_pa...b/codeintel.duckdb'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.027946501999394968, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_get_tests_for_function_invalid", "lineno": 69, "outcome": "passed", "keywords": ["test_get_tests_for_function_invalid", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5077769189992978, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0005308180006977636, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027540048002265394, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_graph_engine_sharing.py::test_graph_engine_reused_with_backend_flags", "lineno": 27, "outcome": "failed", "keywords": ["test_graph_engine_reused_with_backend_flags", "test_graph_engine_sharing.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0008249380007328, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4278588560009666, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/orchestration/test_graph_engine_sharing.py", "lineno": 50, "message": ""}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 354, "message": "in ensure_graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 314, "message": "in _graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 329, "message": "in _graph_runtime"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 299, "message": "in _analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "stderr": "14:16:54.704 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n14:16:54.705 | WARNING | codeintel.storage.module_index - No modules found in core.modules for demo/repo@deadbeef\n", "log": [{"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271014.7047644, "msecs": 704.0, "relativeCreated": 23769.500653, "thread": 140705306662720, "threadName": "MainThread", "processName": "MainProcess", "process": 308750, "taskName": null, "asctime": "14:16:54"}, {"name": "codeintel.storage.module_index", "msg": "No modules found in core.modules for demo/repo@deadbeef", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/paul/CodeIntel/src/codeintel/storage/module_index.py", "filename": "module_index.py", "module": "module_index", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "load_module_map", "created": 1764271014.7055423, "msecs": 705.0, "relativeCreated": 23770.27867, "thread": 140705306662720, "threadName": "MainThread", "processName": "MainProcess", "process": 308750, "taskName": null, "asctime": "14:16:54"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw4/test_graph_engine_reused_with_0')\n\n    def test_graph_engine_reused_with_backend_flags(tmp_path: Path) -> None:\n        \"\"\"Ensure orchestration uses a shared, backend-aware graph engine.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        snapshot = SnapshotRef(repo_root=tmp_path, repo=\"demo/repo\", commit=\"deadbeef\")\n        graph_backend = GraphBackendConfig(use_gpu=True, backend=\"auto\", strict=False)\n        build_dir = tmp_path / \"build\"\n        paths = BuildPaths.from_layout(\n            repo_root=tmp_path,\n            build_dir=build_dir,\n            db_path=gateway.config.db_path,\n        )\n        ctx = orchestration_steps.PipelineContext(\n            snapshot=snapshot,\n            paths=paths,\n            gateway=gateway,\n            tools=ToolsConfig.default(),\n            code_profile_cfg=_scan_profile(tmp_path),\n            config_profile_cfg=_scan_profile(tmp_path),\n            graph_backend_cfg=graph_backend,\n        )\n    \n        try:\n>           engine_first = orchestration_steps.ensure_graph_engine(ctx)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/orchestration/test_graph_engine_sharing.py:50: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/pipeline/orchestration/core.py:354: in ensure_graph_engine\n    return _graph_engine(ctx, acx)\n           ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:314: in _graph_engine\n    return _graph_runtime(ctx, acx=acx).engine\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:329: in _graph_runtime\n    context = acx or _analytics_context(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:299: in _analytics_context\n    ctx.analytics_context = build_analytics_context(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath(':memory:'), read_only=False, apply_schema=True, ensure_views=Tr...ction object at 0x7ff76c6efc30>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7ff76c6efc30>))\ncfg = AnalyticsContextConfig(repo='demo/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...ymbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=True)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.00019880699983332306, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_change_tracker.py::test_view_for_dataset_incremental", "lineno": 23, "outcome": "passed", "keywords": ["test_view_for_dataset_incremental", "test_change_tracker.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 3.4003254829985963, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003058100010093767, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026144978997763246, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_datasets_registry.py::test_function_validation_dataset_present", "lineno": 9, "outcome": "passed", "keywords": ["test_function_validation_dataset_present", "test_datasets_registry.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004613659984897822, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003462820022832602, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013690400010091253, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_graph_engine_sharing.py::test_engine_reuse_across_semantic_roles", "lineno": 130, "outcome": "failed", "keywords": ["test_engine_reuse_across_semantic_roles", "test_graph_engine_sharing.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005118070002936292, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4294824719981989, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'"}, "traceback": [{"path": "tests/orchestration/test_graph_engine_sharing.py", "lineno": 154, "message": ""}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 354, "message": "in ensure_graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 314, "message": "in _graph_engine"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 329, "message": "in _graph_runtime"}, {"path": "src/codeintel/pipeline/orchestration/core.py", "lineno": 299, "message": "in _analytics_context"}, {"path": "src/codeintel/analytics/context.py", "lineno": 260, "message": "TypeError"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw4/test_engine_reuse_across_seman0')\n\n    def test_engine_reuse_across_semantic_roles(tmp_path: Path) -> None:\n        \"\"\"Semantic roles should reuse the shared engine without rebuilding.\"\"\"\n        gateway = open_ingestion_gateway(apply_schema=True, ensure_views=True, validate_schema=True)\n        snapshot = SnapshotRef(repo_root=tmp_path, repo=\"demo/repo\", commit=\"deadbeef\")\n        graph_backend = GraphBackendConfig(use_gpu=False, backend=\"cpu\", strict=False)\n        build_dir = tmp_path / \"build\"\n        paths = BuildPaths.from_layout(\n            repo_root=tmp_path,\n            build_dir=build_dir,\n            db_path=gateway.config.db_path,\n        )\n        ctx = orchestration_steps.PipelineContext(\n            snapshot=snapshot,\n            paths=paths,\n            gateway=gateway,\n            tools=ToolsConfig.default(),\n            code_profile_cfg=_scan_profile(tmp_path),\n            config_profile_cfg=_scan_profile(tmp_path),\n            graph_backend_cfg=graph_backend,\n        )\n    \n        try:\n            _seed_semantic_roles_prereqs(gateway, snapshot.repo, snapshot.commit)\n>           engine = orchestration_steps.ensure_graph_engine(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/orchestration/test_graph_engine_sharing.py:154: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/pipeline/orchestration/core.py:354: in ensure_graph_engine\n    return _graph_engine(ctx, acx)\n           ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:314: in _graph_engine\n    return _graph_runtime(ctx, acx=acx).engine\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:329: in _graph_runtime\n    context = acx or _analytics_context(ctx)\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/pipeline/orchestration/core.py:299: in _analytics_context\n    ctx.analytics_context = build_analytics_context(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ngateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath(':memory:'), read_only=False, apply_schema=True, ensure_views=Tr...ction object at 0x7ff76c1af670>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7ff76c1af670>))\ncfg = AnalyticsContextConfig(repo='demo/repo', commit='deadbeef', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-g...mbol_graph_edges=None, max_graph_edges=None, sample_seed=0, load_symbol_graphs=False, metrics_hook=None, use_gpu=False)\n\n    def build_analytics_context(\n        gateway: StorageGateway,\n        cfg: AnalyticsContextConfig,\n    ) -> AnalyticsContext:\n        \"\"\"\n        Construct an `AnalyticsContext` with cached artifacts for a run.\n    \n        Parameters\n        ----------\n        gateway\n            Storage gateway exposing the DuckDB connection.\n        cfg\n            Context configuration (repo, commit, budgets).\n    \n        Returns\n        -------\n        AnalyticsContext\n            Shared analytics artifacts scoped to the provided repository snapshot.\n        \"\"\"\n        timers: dict[str, float] = {}\n        graph_metrics: list[dict[str, object]] = []\n    \n        start = monotonic()\n        catalog = cfg.catalog_provider or FunctionCatalogService.from_db(\n            gateway, repo=cfg.repo, commit=cfg.commit\n        )\n        timers[\"catalog_ms\"] = (monotonic() - start) * 1000.0\n    \n        start = monotonic()\n        module_map = load_module_map(gateway, cfg.repo, cfg.commit)\n        timers[\"module_map_ms\"] = (monotonic() - start) * 1000.0\n    \n>       engine = NxGraphEngine(\n            gateway=gateway,\n            repo=cfg.repo,\n            commit=cfg.commit,\n            use_gpu=cfg.use_gpu,\n        )\nE       TypeError: NxGraphEngine.__init__() got an unexpected keyword argument 'repo'\n\nsrc/codeintel/analytics/context.py:260: TypeError"}, "teardown": {"duration": 0.00020547700114548206, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_fallback.py::test_callgraph_falls_back_to_ast", "lineno": 12, "outcome": "passed", "keywords": ["test_callgraph_falls_back_to_ast", "test_callgraph_fallback.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 0.00046264699994935654, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00079592799738748, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013323500024853274, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/graphs/test_callgraph_resolution.py::test_resolve_callee_precedence_local_then_alias", "lineno": 16, "outcome": "passed", "keywords": ["test_resolve_callee_precedence_local_then_alias", "test_callgraph_resolution.py", "graphs", "tests", "CodeIntel", ""], "setup": {"duration": 9.815299927140586e-05, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00012261400115676224, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.474199835793115e-05, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_read_function_validation_dataset", "lineno": 103, "outcome": "passed", "keywords": ["test_read_function_validation_dataset", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5031324560004578, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0015575549987261184, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03411390899782418, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_backend_registry_matches_gateway", "lineno": 65, "outcome": "passed", "keywords": ["test_backend_registry_matches_gateway", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005644999982905574, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.773753225999826, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0003834929993900005, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_prefect_flow_smoke.py::test_cli_docs_export_with_validation", "lineno": 70, "outcome": "passed", "keywords": ["test_cli_docs_export_with_validation", "test_prefect_flow_smoke.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 3.947303416000068, "outcome": "passed", "stderr": "2025-11-27 14:16:55,441 | INFO | prefect.server.events.services.triggers | ReactiveTriggers starting with unique consumer name: reactive-triggers-paul-X870-AORUS-ELITE-WIFI7-314403-2b026abb\n2025-11-27 14:16:55,441 | INFO | prefect.server.events.actions | Starting action message handler\n2025-11-27 14:16:55,442 | INFO | prefect.server.services.task_run_recorder | Starting periodically process followers task every 5.0 seconds\n2025-11-27 14:16:55,442 | INFO | prefect.server.events.triggers | Starting automation change listener\n", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 5.1624098690008395, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 1.0251485469998443, "outcome": "passed", "stderr": "2025-11-27 14:17:00,887 | INFO | prefect.server.services.task_run_recorder | Periodically process followers task cancelled successfully\n", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_dataset_rows_clamping", "lineno": 81, "outcome": "passed", "keywords": ["test_dataset_rows_clamping", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5061868539996794, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023459800286218524, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.029121622999809915, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_step_registry.py::test_get_step", "lineno": 84, "outcome": "passed", "keywords": ["test_get_step", "test_step_registry.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.00026332900233683176, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00014945500151952729, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.914200275787152e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_backend_limits.py::test_clamp_limit_value_caps_and_reports", "lineno": 20, "outcome": "passed", "keywords": ["test_clamp_limit_value_caps_and_reports", "test_backend_limits.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.00017550600023241714, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001236950010934379, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.057200153009035e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_backend_limits.py::test_http_service_applies_backend_limits", "lineno": 30, "outcome": "passed", "keywords": ["test_http_service_applies_backend_limits", "test_backend_limits.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 9.141299960901961e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001502250015619211, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.0461999964900315e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_errors.py::test_problem_defaults_and_to_dict", "lineno": 26, "outcome": "passed", "keywords": ["test_problem_defaults_and_to_dict", "test_errors.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.00010247300087939948, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00013581500024884008, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00013291499999468215, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_errors.py::test_problem_allows_override_instance_and_type", "lineno": 37, "outcome": "passed", "keywords": ["test_problem_allows_override_instance_and_type", "test_errors.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 8.172299931175075e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00011824399916804396, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.0321999626467004e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_errors.py::test_problem_error_taxonomy_subclasses", "lineno": 57, "outcome": "passed", "keywords": ["test_problem_error_taxonomy_subclasses", "test_errors.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 7.290199937415309e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001611459993000608, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 5.975199746899307e-05, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_errors.py::test_log_problem_emits_json", "lineno": 76, "outcome": "passed", "keywords": ["test_log_problem_emits_json", "test_errors.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003740440006367862, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0008041279979806859, "outcome": "passed", "stderr": "14:16:55.788 | ERROR   | test-log-problem - {\"type\": \"https://problems.codeintel.dev/demo.log\", \"title\": \"Log\", \"detail\": \"Logged\", \"instance\": \"03a4683d-6b4a-4fae-a63c-6599821c07d8\", \"code\": \"demo.log\"}\n", "log": [{"name": "test-log-problem", "msg": "{\"type\": \"https://problems.codeintel.dev/demo.log\", \"title\": \"Log\", \"detail\": \"Logged\", \"instance\": \"03a4683d-6b4a-4fae-a63c-6599821c07d8\", \"code\": \"demo.log\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/paul/CodeIntel/src/codeintel/serving/services/errors.py", "filename": "errors.py", "module": "errors", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "log_problem", "created": 1764271015.7885442, "msecs": 788.0, "relativeCreated": 24906.81152, "thread": 133992363181888, "threadName": "MainThread", "processName": "MainProcess", "process": 308741, "taskName": null, "asctime": "14:16:55"}], "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0003794330004893709, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_factory_wiring.py::test_build_backend_resource_local", "lineno": 103, "outcome": "failed", "keywords": ["test_build_backend_resource_local", "test_factory_wiring.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004454259978956543, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 3.5979468199984694, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/services/test_factory_wiring.py", "lineno": 119, "message": ""}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw1/test_build_backend_resource_lo0')\n\n    def test_build_backend_resource_local(tmp_path: Path) -> None:\n        \"\"\"Local wiring produces a DuckDB backend and service with identity verification.\"\"\"\n        db_path = tmp_path / \"codeintel.duckdb\"\n        repo_root = tmp_path / \"repo\"\n        _seed_repo_identity(repo_root, db_path, \"r\", \"c\")\n    \n        cfg = ServingConfig(\n            mode=\"local_db\",\n            repo_root=repo_root,\n            repo=\"r\",\n            commit=\"c\",\n            db_path=db_path,\n        )\n    \n        registry_opts = DatasetRegistryOptions(tables={}, validate=False)\n>       resource: BackendResource = build_backend_resource(\n            cfg,\n            gateway=open_gateway(\n                StorageConfig(\n                    db_path=db_path,\n                    read_only=True,\n                    apply_schema=False,\n                    ensure_views=True,\n                    validate_schema=True,\n                    repo=\"r\",\n                    commit=\"c\",\n                )\n            ),\n            registry=registry_opts,\n        )\n\ntests/services/test_factory_wiring.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw1/test_build_backend_resourc...0/codeintel.duckdb'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.00019415700080571696, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_dataset_registry_parity.py::test_dataset_registry_parity_across_factory_defaults", "lineno": 32, "outcome": "passed", "keywords": ["test_dataset_registry_parity_across_factory_defaults", "test_dataset_registry_parity.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 3.407796806000988, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.01872246800121502, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024789930997940246, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend_adapter.py::test_validate_direction_accepts_expected", "lineno": 29, "outcome": "passed", "keywords": ["test_validate_direction_accepts_expected", "test_backend_adapter.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.40334995000012, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.004862581001361832, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02566972199929296, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_dataset_list_includes_function_validation", "lineno": 113, "outcome": "passed", "keywords": ["test_dataset_list_includes_function_validation", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5071638289991824, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0005478990024130326, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.029456476000632392, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_dataset_rows_limit_clamped", "lineno": 240, "outcome": "passed", "keywords": ["test_dataset_rows_limit_clamped", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.590297779002867, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0055659850004303735, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027671601998008555, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend_dataset_adapter.py::test_read_dataset_rows_delegates", "lineno": 42, "outcome": "passed", "keywords": ["test_read_dataset_rows_delegates", "test_backend_dataset_adapter.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.415865601000405, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.005591445999016287, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.022971156999119557, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_callgraph_direction_validation", "lineno": 54, "outcome": "passed", "keywords": ["test_callgraph_direction_validation", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.4975189690012485, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00037157300175749697, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.028381037001963705, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_function_summary_success", "lineno": 181, "outcome": "passed", "keywords": ["test_function_summary_success", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.5820813099999214, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.006262279999646125, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.028156709999166196, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_health_reports_limits", "lineno": 93, "outcome": "passed", "keywords": ["test_health_reports_limits", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.7442554689987446, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.03819658200154663, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.04216092100250535, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_http_backend_against_fastapi", "lineno": 275, "outcome": "passed", "keywords": ["test_http_backend_against_fastapi", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006579830005648546, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.855522710000514, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001384739989589434, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/ingestion/test_change_tracker.py::test_view_for_dataset_full_rebuild_when_changed_ratio_exceeds_policy", "lineno": 49, "outcome": "passed", "keywords": ["test_view_for_dataset_full_rebuild_when_changed_ratio_exceeds_policy", "test_change_tracker.py", "ingestion", "tests", "CodeIntel", ""], "setup": {"duration": 3.386807979997684, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003741039981832728, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026599234999594046, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_import_boundary_limits", "lineno": 397, "outcome": "failed", "keywords": ["test_import_boundary_limits", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004900179992546327, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.787532360998739, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/tests/server/test_fastapi_endpoints.py", "lineno": 411, "message": "Failed: Expected 200 response, got 500"}, "traceback": [{"path": "tests/server/test_fastapi_endpoints.py", "lineno": 411, "message": "Failed"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw4/test_import_boundary_limits0')\n\n    def test_import_boundary_limits(tmp_path: Path) -> None:\n        \"\"\"Import boundary endpoint enforces limit validation and truncation metadata.\"\"\"\n        repo = \"demo/repo\"\n        commit = \"deadbeef\"\n        db_path = tmp_path / \"codeintel.duckdb\"\n        gateway = _seed_db(db_path, repo=repo, commit=commit)\n        app = _build_app(gateway, db_path, repo=repo, commit=commit)\n        with TestClient(app) as client:\n            bad = client.get(\"/graph/import/boundary\", params={\"subsystem_id\": \"sub1\", \"max_edges\": -5})\n            if bad.status_code != HTTPStatus.BAD_REQUEST:\n                pytest.fail(f\"Expected 400 for invalid max_edges, got {bad.status_code}\")\n            resp = client.get(\"/graph/import/boundary\", params={\"subsystem_id\": \"sub1\", \"max_edges\": 0})\n            if resp.status_code != HTTPStatus.OK:\n>               pytest.fail(f\"Expected 200 response, got {resp.status_code}\")\nE               Failed: Expected 200 response, got 500\n\ntests/server/test_fastapi_endpoints.py:411: Failed"}, "teardown": {"duration": 0.00017113599824369885, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_function_summary_not_found", "lineno": 194, "outcome": "passed", "keywords": ["test_function_summary_not_found", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.599089766998077, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.005596646999038057, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.030254233999585267, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_history_timeseries_prefect.py::test_prefect_history_timeseries_step", "lineno": 18, "outcome": "passed", "keywords": ["test_prefect_history_timeseries_step", "test_history_timeseries_prefect.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 3.946668423999654, "outcome": "passed", "stderr": "2025-11-27 14:16:58,148 | INFO | prefect.server.events.services.triggers | ReactiveTriggers starting with unique consumer name: reactive-triggers-paul-X870-AORUS-ELITE-WIFI7-314980-37df8a8b\n2025-11-27 14:16:58,148 | INFO | prefect.server.events.actions | Starting action message handler\n2025-11-27 14:16:58,149 | INFO | prefect.server.services.task_run_recorder | Starting periodically process followers task every 5.0 seconds\n2025-11-27 14:16:58,149 | INFO | prefect.server.events.triggers | Starting automation change listener\n", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 10.56163111999922, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.6709244689991465, "outcome": "passed", "stderr": "2025-11-27 14:17:08,956 | INFO | prefect.server.services.task_run_recorder | Periodically process followers task cancelled successfully\n", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_prefect_export_docs.py::test_t_export_docs_invokes_validator_before_export", "lineno": 27, "outcome": "passed", "keywords": ["test_t_export_docs_invokes_validator_before_export", "test_prefect_export_docs.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004496360015764367, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.5820478799978446, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014802599980612285, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_tests_for_function_validation", "lineno": 204, "outcome": "passed", "keywords": ["test_tests_for_function_validation", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.5888511179982743, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0027552070023375563, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027215146001253743, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_prefect_flow_smoke.py::test_prefect_flow_preflight_only", "lineno": 22, "outcome": "passed", "keywords": ["test_prefect_flow_preflight_only", "test_prefect_flow_smoke.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 3.843406676001905, "outcome": "passed", "stderr": "2025-11-27 14:16:58,880 | INFO | prefect.server.events.services.triggers | ReactiveTriggers starting with unique consumer name: reactive-triggers-paul-X870-AORUS-ELITE-WIFI7-315229-310491ba\n2025-11-27 14:16:58,881 | INFO | prefect.server.events.actions | Starting action message handler\n2025-11-27 14:16:58,881 | INFO | prefect.server.services.task_run_recorder | Starting periodically process followers task every 5.0 seconds\n2025-11-27 14:16:58,881 | INFO | prefect.server.events.triggers | Starting automation change listener\n", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.542929365001328, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.6698132190031174, "outcome": "passed", "stderr": "2025-11-27 14:17:01,708 | INFO | prefect.server.services.task_run_recorder | Periodically process followers task cancelled successfully\n", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_dataset_registry_parity.py::test_backend_resource_limits_and_registry_align", "lineno": 58, "outcome": "failed", "keywords": ["test_backend_resource_limits_and_registry_align", "test_dataset_registry_parity.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 3.3959384720001253, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.1845780570001807, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/server/test_dataset_registry_parity.py", "lineno": 74, "message": ""}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw11/test_backend_resource_...ction object at 0x7c0347d620b0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7c0347d620b0>))\n\n    def test_backend_resource_limits_and_registry_align(fresh_gateway: StorageGateway) -> None:\n        \"\"\"BackendResource should carry registry and limits derived from config.\"\"\"\n        base_registry = build_dataset_registry()\n        cfg = ServingConfig(\n            mode=\"local_db\",\n            repo=\"r\",\n            commit=\"c\",\n            repo_root=Path.cwd(),\n            db_path=Path(\":memory:\"),\n            read_only=True,\n            default_limit=50,\n            max_rows_per_call=500,\n        )\n        gateway = fresh_gateway\n        _seed_repo_identity(gateway, cfg.repo, cfg.commit)\n>       resource = build_backend_resource(\n            cfg,\n            gateway=gateway,\n            registry=DatasetRegistryOptions(tables=base_registry, validate=False),\n        )\n\ntests/server/test_dataset_registry_parity.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/home/paul/CodeIntel'), repo='r', commit='c', db_path=PosixPath('/...CodeIntel/:memory:'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.024655556000652723, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_factory_wiring.py::test_build_backend_resource_remote", "lineno": 140, "outcome": "failed", "keywords": ["test_build_backend_resource_remote", "test_factory_wiring.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004073650015925523, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 6.048571635998087, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/services/test_factory_wiring.py", "lineno": 143, "message": ""}, {"path": "tests/services/test_factory_wiring.py", "lineno": 95, "message": "in _build_remote_app"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw1/test_build_backend_resource_re0')\n\n    def test_build_backend_resource_remote(tmp_path: Path) -> None:\n        \"\"\"Remote wiring uses a real ASGI transport and builds an HttpBackend.\"\"\"\n>       app, gateway = _build_remote_app(tmp_path, \"r\", \"c\")\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/services/test_factory_wiring.py:143: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/services/test_factory_wiring.py:95: in _build_remote_app\n    resource = build_backend_resource(cfg, gateway=gateway, registry=registry_opts)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw1/test_build_backend_resourc...0/codeintel.duckdb'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.0002494390028005, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_dataset_rows_success", "lineno": 254, "outcome": "passed", "keywords": ["test_dataset_rows_success", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.6002913109987276, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.004206408000754891, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02757878900229116, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_backend_registry_matches_gateway", "lineno": 211, "outcome": "passed", "keywords": ["test_backend_registry_matches_gateway", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.5715681920009956, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00016032599887694232, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.028761560999555513, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_http_read_dataset_rows_clamps_limit", "lineno": 301, "outcome": "passed", "keywords": ["test_http_read_dataset_rows_clamps_limit", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.00025964900123653933, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00023148800028138794, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.385199933196418e-05, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_tests_for_function_success", "lineno": 217, "outcome": "passed", "keywords": ["test_tests_for_function_success", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.6085328199988, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.006304081001871964, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026402878000226337, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_http_read_dataset_rows_invalid_offset", "lineno": 327, "outcome": "passed", "keywords": ["test_http_read_dataset_rows_invalid_offset", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.0002748100014287047, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00021142699915799312, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 9.472399688092992e-05, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_fastapi_endpoints_smoke", "lineno": 76, "outcome": "passed", "keywords": ["test_fastapi_endpoints_smoke", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.75260702399828, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.1099351429984381, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.04527057099767262, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_http_high_risk_clamps_using_limits", "lineno": 340, "outcome": "passed", "keywords": ["test_http_high_risk_clamps_using_limits", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.00026322999838157557, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.00019132599845761433, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 6.944200140424073e-05, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/mcp/test_backend.py::test_function_validation_clamping", "lineno": 121, "outcome": "passed", "keywords": ["test_function_validation_clamping", "test_backend.py", "mcp", "tests", "CodeIntel", ""], "setup": {"duration": 3.5058126830008405, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.000441734999185428, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02634045599916135, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi.py::test_dataset_rows_unknown_dataset", "lineno": 230, "outcome": "passed", "keywords": ["test_dataset_rows_unknown_dataset", "test_fastapi.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 2.615053090001311, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0034153100023104344, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.029139414000383113, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_fastapi_delegates_to_query_service", "lineno": 359, "outcome": "passed", "keywords": ["test_fastapi_delegates_to_query_service", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005135479987075087, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.5365784170026018, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00021318800281733274, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_mcp_tool_delegation", "lineno": 447, "outcome": "skipped", "keywords": ["test_mcp_tool_delegation", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 0.00021788699814351276, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.45055044400214683, "outcome": "skipped", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n('/home/paul/CodeIntel/tests/services/test_query_service.py', 489, 'Skipped: FastMCP tools registry not available')"}, "teardown": {"duration": 0.00011496400111354887, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_wiring_smoke.py::test_fastapi_wiring_smoke", "lineno": 16, "outcome": "failed", "keywords": ["test_fastapi_wiring_smoke", "test_wiring_smoke.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 3.411384374998306, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.21342686000207323, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/server/test_wiring_smoke.py", "lineno": 63, "message": ""}, {"path": ".venv/lib/python3.13/site-packages/starlette/testclient.py", "lineno": 688, "message": "in __enter__"}, {"path": ".venv/lib/python3.13/site-packages/anyio/from_thread.py", "lineno": 321, "message": "in call"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py", "lineno": 456, "message": "in result"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": ".venv/lib/python3.13/site-packages/anyio/from_thread.py", "lineno": 252, "message": "in _call_func"}, {"path": ".venv/lib/python3.13/site-packages/starlette/testclient.py", "lineno": 723, "message": "in wait_startup"}, {"path": ".venv/lib/python3.13/site-packages/starlette/testclient.py", "lineno": 714, "message": "in receive"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py", "lineno": 449, "message": "in result"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": ".venv/lib/python3.13/site-packages/anyio/from_thread.py", "lineno": 252, "message": "in _call_func"}, {"path": ".venv/lib/python3.13/site-packages/starlette/testclient.py", "lineno": 704, "message": "in lifespan"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/applications.py", "lineno": 1134, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/applications.py", "lineno": 107, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/middleware/errors.py", "lineno": 151, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/middleware/base.py", "lineno": 103, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", "lineno": 49, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", "lineno": 18, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/routing.py", "lineno": 716, "message": "in __call__"}, {"path": ".venv/lib/python3.13/site-packages/starlette/routing.py", "lineno": 725, "message": "in app"}, {"path": ".venv/lib/python3.13/site-packages/starlette/routing.py", "lineno": 694, "message": "in lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": ".venv/lib/python3.13/site-packages/fastapi/routing.py", "lineno": 211, "message": "in merged_lifespan"}, {"path": "../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py", "lineno": 214, "message": "in __aenter__"}, {"path": "src/codeintel/serving/http/fastapi.py", "lineno": 1042, "message": "in lifespan"}, {"path": "tests/server/test_wiring_smoke.py", "lineno": 47, "message": "in _factory"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw9/test_fastapi_wiring_smo...ction object at 0x7dbff6105970>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7dbff6105970>))\n\n    def test_fastapi_wiring_smoke(fresh_gateway: StorageGateway) -> None:\n        \"\"\"App boots, health endpoint responds, and close hook executes.\"\"\"\n        closed = False\n        resource: BackendResource | None = None\n        insert_repo_map(\n            fresh_gateway,\n            [\n                RepoMapRow(\n                    repo=fresh_gateway.config.repo or \"demo/repo\",\n                    commit=fresh_gateway.config.commit or \"deadbeef\",\n                    modules={},\n                    overlays={},\n                )\n            ],\n        )\n    \n        def _loader() -> ServingConfig:\n            return ServingConfig(\n                mode=\"local_db\",\n                repo=fresh_gateway.config.repo or \"demo/repo\",\n                commit=fresh_gateway.config.commit or \"deadbeef\",\n                db_path=fresh_gateway.config.db_path,\n            )\n    \n        def _factory(cfg: ServingConfig, *, gateway: StorageGateway | None = None) -> BackendResource:\n            nonlocal resource, closed\n            active_gateway = gateway or fresh_gateway\n            if gateway is not None and gateway is not fresh_gateway:\n                pytest.fail(\"Backend factory received unexpected gateway instance\")\n            if resource is None:\n                resource = build_backend_resource(cfg, gateway=active_gateway)\n            current = resource\n    \n            def _close() -> None:\n                nonlocal closed\n                closed = True\n                current.close()\n    \n            return BackendResource(\n                backend=current.backend,\n                service=current.service,\n                close=_close,\n            )\n    \n        app = create_app(config_loader=_loader, backend_factory=_factory, gateway=fresh_gateway)\n    \n>       with TestClient(app) as client:\n             ^^^^^^^^^^^^^^^\n\ntests/server/test_wiring_smoke.py:63: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.13/site-packages/starlette/testclient.py:688: in __enter__\n    portal.call(self.wait_startup)\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:321: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:252: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/starlette/testclient.py:723: in wait_startup\n    await receive()\n.venv/lib/python3.13/site-packages/starlette/testclient.py:714: in receive\n    self.task.result()\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:252: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/starlette/testclient.py:704: in lifespan\n    await self.app(scope, self.stream_receive.receive, self.stream_send.send)\n.venv/lib/python3.13/site-packages/fastapi/applications.py:1134: in __call__\n    await super().__call__(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:151: in __call__\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:103: in __call__\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:49: in __call__\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:725: in app\n    await self.lifespan(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:694: in lifespan\n    async with self.lifespan_context(app) as maybe_state:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/fastapi/routing.py:211: in merged_lifespan\n    async with original_context(app) as maybe_original_state:\n               ^^^^^^^^^^^^^^^^^^^^^\n../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/serving/http/fastapi.py:1042: in lifespan\n    backend_resource = backend_factory(config, **backend_kwargs)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/server/test_wiring_smoke.py:47: in _factory\n    resource = build_backend_resource(cfg, gateway=active_gateway)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/home/paul/CodeIntel'), repo='demo/repo', commit='deadbeef', db_pa...b/codeintel.duckdb'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.02647253000031924, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_local_read_dataset_rows_defaults_limit", "lineno": 256, "outcome": "passed", "keywords": ["test_local_read_dataset_rows_defaults_limit", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 2.7745165239975904, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4368257710011676, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.046129100999678485, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_risk_factors_catalog_fallback.py::test_risk_factors_uses_catalog_modules_when_core_modules_empty", "lineno": 17, "outcome": "passed", "keywords": ["test_risk_factors_uses_catalog_modules_when_core_modules_empty", "test_risk_factors_catalog_fallback.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005015179995098151, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.389296116998594, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0001662760005274322, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/server/test_fastapi_endpoints.py::test_callgraph_neighborhood_limits", "lineno": 367, "outcome": "failed", "keywords": ["test_callgraph_neighborhood_limits", "test_fastapi_endpoints.py", "server", "tests", "CodeIntel", ""], "setup": {"duration": 0.0006293419974099379, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 2.7422829329989327, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/tests/server/test_fastapi_endpoints.py", "lineno": 385, "message": "Failed: Expected 200 response, got 500"}, "traceback": [{"path": "tests/server/test_fastapi_endpoints.py", "lineno": 385, "message": "Failed"}], "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw14/test_callgraph_neighborhood_li0')\n\n    def test_callgraph_neighborhood_limits(tmp_path: Path) -> None:\n        \"\"\"Call graph neighborhood enforces limit validation and truncation metadata.\"\"\"\n        repo = \"demo/repo\"\n        commit = \"deadbeef\"\n        db_path = tmp_path / \"codeintel.duckdb\"\n        gateway = _seed_db(db_path, repo=repo, commit=commit)\n        app = _build_app(gateway, db_path, repo=repo, commit=commit)\n        with TestClient(app) as client:\n            bad = client.get(\n                \"/graph/call/neighborhood\", params={\"goid_h128\": 1, \"radius\": 1, \"max_nodes\": -1}\n            )\n            if bad.status_code != HTTPStatus.BAD_REQUEST:\n                pytest.fail(f\"Expected 400 for invalid max_nodes, got {bad.status_code}\")\n            resp = client.get(\n                \"/graph/call/neighborhood\", params={\"goid_h128\": 1, \"radius\": 1, \"max_nodes\": 0}\n            )\n            if resp.status_code != HTTPStatus.OK:\n>               pytest.fail(f\"Expected 200 response, got {resp.status_code}\")\nE               Failed: Expected 200 response, got 500\n\ntests/server/test_fastapi_endpoints.py:385: Failed"}, "teardown": {"duration": 0.00019324700042488985, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_local_read_dataset_rows_records_observability", "lineno": 276, "outcome": "passed", "keywords": ["test_local_read_dataset_rows_records_observability", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 2.7591336440018495, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.42849159899924416, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.044298726999841165, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_factory_wiring.py::test_build_backend_resource_gateway_path", "lineno": 161, "outcome": "failed", "keywords": ["test_build_backend_resource_gateway_path", "test_factory_wiring.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 3.3867017980010132, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.17847978200006764, "outcome": "failed", "crash": {"path": "/home/paul/CodeIntel/src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value"}, "traceback": [{"path": "tests/services/test_factory_wiring.py", "lineno": 185, "message": ""}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 90, "message": "in build_backend_resource"}, {"path": "src/codeintel/serving/services/wiring.py", "lineno": 152, "message": "UnboundLocalError"}], "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\nfresh_gateway = _DuckDBGateway(config=StorageConfig(db_path=PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw11/test_build_backend_res...ction object at 0x7c0347cd6bb0>), analytics=AnalyticsTables(con=<_duckdb.DuckDBPyConnection object at 0x7c0347cd6bb0>))\n\n    def test_build_backend_resource_gateway_path(fresh_gateway: StorageGateway) -> None:\n        \"\"\"Gateway-provided connection and registry are honored.\"\"\"\n        gateway = fresh_gateway\n        insert_repo_map(\n            gateway,\n            [\n                RepoMapRow(\n                    repo=\"r\",\n                    commit=\"c\",\n                    modules={},\n                    overlays={},\n                    generated_at=datetime.now(tz=UTC),\n                )\n            ],\n        )\n    \n        cfg = ServingConfig(\n            mode=\"local_db\",\n            repo_root=Path.cwd(),\n            repo=\"r\",\n            commit=\"c\",\n        )\n    \n>       resource = build_backend_resource(cfg, gateway=gateway)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/services/test_factory_wiring.py:185: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/codeintel/serving/services/wiring.py:90: in build_backend_resource\n    return _build_local_resource(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncfg = ServingConfig(mode='local_db', repo_root=PosixPath('/home/paul/CodeIntel'), repo='r', commit='c', db_path=PosixPath('/...b/codeintel.duckdb'), api_base_url=None, default_limit=50, max_rows_per_call=500, timeout_seconds=10.0, read_only=True)\n\n    def _build_local_resource(\n        cfg: ServingConfig,\n        *,\n        gateway: StorageGateway | None,\n        registry_opts: DatasetRegistryOptions,\n        observability: ServiceObservability | None,\n        limits: BackendLimits,\n    ) -> BackendResource:\n        \"\"\"\n        Construct a local DuckDB backend and service bundle.\n    \n        Returns\n        -------\n        BackendResource\n            Backend, service, and close hook.\n    \n        Raises\n        ------\n        ValueError\n            When the gateway is missing for local_db mode.\n        \"\"\"\n        if gateway is None:\n            message = \"StorageGateway is required for local_db mode\"\n            raise ValueError(message)\n        if cfg.db_path is None:\n            message = \"db_path is required for local_db mode\"\n            raise ValueError(message)\n        connection = gateway.con\n        effective_read_only = gateway.config.read_only\n    \n        verify_db_identity(gateway, cfg)\n        if not effective_read_only:\n            create_all_views(connection)\n    \n        from codeintel.serving.mcp.backend import DuckDBBackend  # noqa: PLC0415\n        from codeintel.serving.services.factory import build_service_from_config  # noqa: PLC0415\n    \n        service = build_service_from_config(\n            cfg,\n            gateway=gateway,\n            registry=registry_opts,\n            observability=observability,\n>           graph_engine=runtime.engine,\n                         ^^^^^^^\n        )\nE       UnboundLocalError: cannot access local variable 'runtime' where it is not associated with a value\n\nsrc/codeintel/serving/services/wiring.py:152: UnboundLocalError"}, "teardown": {"duration": 0.026507500999287004, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_export_macro_parity.py::test_macro_parity_exports_seeded_rows", "lineno": 46, "outcome": "passed", "keywords": ["test_macro_parity_exports_seeded_rows", "smoke", "pytestmark", "test_export_macro_parity.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.385102612002811, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.015046808999613859, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026225851997878635, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_local_read_dataset_rows_propagates_errors", "lineno": 269, "outcome": "passed", "keywords": ["test_local_read_dataset_rows_propagates_errors", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 2.7377089709989377, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.44156590800048434, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.04552137900100206, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_local_query_service_reads_architecture_seed", "lineno": 423, "outcome": "passed", "keywords": ["test_local_query_service_reads_architecture_seed", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 2.7341173949971562, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.4491317339998204, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0434401060010714, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_export_macro_strict.py::test_require_macros_rejects_dataset_rows_only", "lineno": 28, "outcome": "passed", "keywords": ["test_require_macros_rejects_dataset_rows_only", "test_export_macro_strict.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3845275819985545, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0006721040008415002, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024538163001125213, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_ingest_perf.py::test_ingest_macro_perf_reasonable", "lineno": 49, "outcome": "passed", "keywords": ["test_ingest_macro_perf_reasonable", "test_ingest_perf.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3728740029982873, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.7782060589997855, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.027156144002219662, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_macro_performance.py::test_normalized_macro_latency_smoke[analytics.function_metrics]", "lineno": 14, "outcome": "passed", "keywords": ["test_normalized_macro_latency_smoke[analytics.function_metrics]", "parametrize", "pytestmark", "analytics.function_metrics", "test_macro_performance.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3621384559992293, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0010224760007986333, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02456347300176276, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_macro_registry.py::test_macro_registry_hashes", "lineno": 45, "outcome": "passed", "keywords": ["test_macro_registry_hashes", "test_macro_registry.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3539779290003935, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0005934410000918433, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.026983328996720957, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_metadata_bootstrap.py::test_metadata_bootstrap_populates_catalog", "lineno": 16, "outcome": "passed", "keywords": ["test_metadata_bootstrap_populates_catalog", "test_metadata_bootstrap.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 0.00013915399904362857, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.23154974800127093, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00014098500105319545, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_tests_analytics_unit.py::test_edges_for_file_uses_test_meta", "lineno": 99, "outcome": "passed", "keywords": ["test_edges_for_file_uses_test_meta", "test_tests_analytics_unit.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.0001794259987946134, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.000531949001015164, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 7.71429986343719e-05, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_tests_analytics_unit.py::test_compute_test_coverage_edges_respects_injected_loader", "lineno": 218, "outcome": "passed", "keywords": ["test_compute_test_coverage_edges_respects_injected_loader", "test_tests_analytics_unit.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.0003873129971907474, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.910216603999288, "outcome": "passed", "stderr": "14:17:06.550 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=2 modified=0 deleted=0\n14:17:06.550 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 2): ['_coverage_driver.py', 'pkg/mod.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=2 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271026.5503507, "msecs": 550.0, "relativeCreated": 35615.08683, "thread": 140705306662720, "threadName": "MainThread", "processName": "MainProcess", "process": 308750, "taskName": null, "asctime": "14:17:06"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 2): ['_coverage_driver.py', 'pkg/mod.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271026.5507615, "msecs": 550.0, "relativeCreated": 35615.497684, "thread": 140705306662720, "threadName": "MainThread", "processName": "MainProcess", "process": 308750, "taskName": null, "asctime": "14:17:06"}], "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00028988099802518263, "outcome": "passed", "longrepr": "[gw4] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/services/test_query_service.py::test_query_service_contract_local_vs_http", "lineno": 498, "outcome": "passed", "keywords": ["test_query_service_contract_local_vs_http", "test_query_service.py", "services", "tests", "CodeIntel", ""], "setup": {"duration": 2.7065284659984172, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.5396217340021394, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.04605783899751259, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/repositories/test_repositories.py::test_function_repository_reads", "lineno": 58, "outcome": "passed", "keywords": ["test_function_repository_reads", "test_repositories.py", "repositories", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 4.498129027997493, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.01444695800091722, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.035471815997880185, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_export_macro_invocation.py::test_export_calls_macro_sentinel", "lineno": 42, "outcome": "passed", "keywords": ["test_export_calls_macro_sentinel", "smoke", "pytestmark", "test_export_macro_invocation.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.340181265000865, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.017414062000170816, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02438763700047275, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_export_macro_strict.py::test_require_macros_allows_macro_backed_tables", "lineno": 13, "outcome": "passed", "keywords": ["test_require_macros_allows_macro_backed_tables", "test_export_macro_strict.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.333827923001081, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.002857530002074782, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024876144001609646, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/repositories/test_repositories.py::test_module_repository_reads", "lineno": 94, "outcome": "passed", "keywords": ["test_module_repository_reads", "test_repositories.py", "repositories", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 4.490149679000751, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.007235633998789126, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03418516099918634, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_normalized_macros_helper.py::test_normalized_macros_match_expected_sets", "lineno": 43, "outcome": "passed", "keywords": ["test_normalized_macros_match_expected_sets", "test_normalized_macros_helper.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 0.000166126003023237, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0001957259992195759, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00019927700122934766, "outcome": "passed", "longrepr": "[gw13] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_gateway_helpers.py::test_insert_helpers_write_expected_rows", "lineno": 13, "outcome": "passed", "keywords": ["test_insert_helpers_write_expected_rows", "test_gateway_helpers.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3266054289997555, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.46561421300066286, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00019807699936791323, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_ingest_prepared_dynamic.py::test_ingest_macros_registered", "lineno": 37, "outcome": "passed", "keywords": ["test_ingest_macros_registered", "test_ingest_prepared_dynamic.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3280637999996543, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.009351468001113972, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025374690998432925, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_macro_performance.py::test_normalized_macro_latency_smoke[graph.call_graph_edges]", "lineno": 14, "outcome": "passed", "keywords": ["test_normalized_macro_latency_smoke[graph.call_graph_edges]", "parametrize", "pytestmark", "graph.call_graph_edges", "test_macro_performance.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3285292760010634, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0008323099973495118, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024616595001134556, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_pipeline_smoke.py::test_pipeline_export_docs_smoke", "lineno": 13, "outcome": "xfailed", "keywords": ["test_pipeline_export_docs_smoke", "test_pipeline_smoke.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.000460955998278223, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0003211110015399754, "outcome": "skipped", "crash": {"path": "/home/paul/CodeIntel/tests/test_pipeline_smoke.py", "lineno": 35, "message": "_pytest.outcomes.XFailed: Pipeline export_docs currently fails in function_effects catalog integration"}, "traceback": [{"path": "tests/test_pipeline_smoke.py", "lineno": 35, "message": "XFailed"}], "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python\n\ntmp_path = PosixPath('/tmp/pytest-of-paul/pytest-41/popen-gw10/test_pipeline_export_docs_smok0')\n\n    def test_pipeline_export_docs_smoke(tmp_path: Path) -> None:\n        \"\"\"\n        Build a minimal repo, run export_docs, and verify GOID export exists.\n    \n        Raises\n        ------\n        RuntimeError\n            If the pipeline run fails or GOID export is missing.\n        \"\"\"\n        repo_root = tmp_path / \"repo\"\n        (repo_root / \"pkg\").mkdir(parents=True, exist_ok=True)\n        (repo_root / \"pkg\" / \"__init__.py\").write_text(\"\", encoding=\"utf8\")\n        (repo_root / \"pkg\" / \"mod.py\").write_text(\n            'def hello(name: str) -> str:\\n    \"\"\"Return a greeting.\"\"\"\\n    return f\"hi {name}\"\\n',\n            encoding=\"utf8\",\n        )\n    \n        db_path = repo_root / \"build\" / \"db\" / \"codeintel.duckdb\"\n        build_dir = repo_root / \"build\"\n    \n        os.environ[\"CODEINTEL_SKIP_SCIP\"] = \"true\"\n>       pytest.xfail(\"Pipeline export_docs currently fails in function_effects catalog integration\")\nE       _pytest.outcomes.XFailed: Pipeline export_docs currently fails in function_effects catalog integration\n\ntests/test_pipeline_smoke.py:35: XFailed"}, "teardown": {"duration": 0.0003257409989601001, "outcome": "passed", "longrepr": "[gw10] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_views_scoping.py::test_call_graph_view_scopes_edges_to_repo_commit", "lineno": 9, "outcome": "passed", "keywords": ["test_call_graph_view_scopes_edges_to_repo_commit", "test_views_scoping.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 0.00042223399941576645, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.444675943999755, "outcome": "passed", "stderr": "14:17:09.030 | INFO    | codeintel.ingestion.change - compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:17:09.031 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=r1 lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271029.0309389, "msecs": 30.0, "relativeCreated": 37961.227903, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:17:09"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271029.0313833, "msecs": 31.0, "relativeCreated": 37961.672119, "thread": 126044843226944, "threadName": "MainThread", "processName": "MainProcess", "process": 308929, "taskName": null, "asctime": "14:17:09"}], "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00025896899751387537, "outcome": "passed", "longrepr": "[gw12] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_normalized_macros.py::test_normalized_macros_execute", "lineno": 12, "outcome": "passed", "keywords": ["test_normalized_macros_execute", "test_normalized_macros.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3318470929989417, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.01404814399938914, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025314968999737175, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_testing_contract.py::test_testing_charter_forbidden_patterns", "lineno": 26, "outcome": "passed", "keywords": ["test_testing_charter_forbidden_patterns", "test_testing_contract.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.00017373599985148758, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.01132937900183606, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.0002200170019932557, "outcome": "passed", "longrepr": "[gw7] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/repositories/test_repositories.py::test_data_model_repository_reads", "lineno": 159, "outcome": "passed", "keywords": ["test_data_model_repository_reads", "test_repositories.py", "repositories", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 4.479987422000704, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.021518435998586938, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03796108399910736, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_macro_schemas.py::test_macro_schemas_match_table_definitions", "lineno": 18, "outcome": "passed", "keywords": ["test_macro_schemas_match_table_definitions", "smoke", "pytestmark", "test_macro_schemas.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3309454119989823, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0168033709996962, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024455130002024816, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_tests_analytics_unit.py::test_backfill_test_goids_updates_catalog", "lineno": 44, "outcome": "passed", "keywords": ["test_backfill_test_goids_updates_catalog", "test_tests_analytics_unit.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.00012223399971844628, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.489623474000837, "outcome": "passed", "stderr": "14:17:09.760 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0\n14:17:09.761 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=4 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271029.7609122, "msecs": 760.0, "relativeCreated": 38792.813767, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:17:09"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 4): ['_coverage_driver.py', 'pkg/mod.py', 'pkg/util.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271029.7613587, "msecs": 761.0, "relativeCreated": 38793.260463, "thread": 135698638456640, "threadName": "MainThread", "processName": "MainProcess", "process": 308756, "taskName": null, "asctime": "14:17:09"}], "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00025741900026332587, "outcome": "passed", "longrepr": "[gw6] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_ingest_prepared_dynamic.py::test_dynamic_prepared_statements_match_registry", "lineno": 11, "outcome": "passed", "keywords": ["test_dynamic_prepared_statements_match_registry", "test_ingest_prepared_dynamic.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.329006224001205, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.15101977700032876, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02578646600159118, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_tests_analytics_unit.py::test_compute_test_coverage_edges_with_real_coverage", "lineno": 151, "outcome": "passed", "keywords": ["test_compute_test_coverage_edges_with_real_coverage", "test_tests_analytics_unit.py", "tests", "CodeIntel", ""], "setup": {"duration": 0.0004421660014486406, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 4.906262567998056, "outcome": "passed", "stderr": "14:17:09.987 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=2 modified=0 deleted=0\n14:17:09.988 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 2): ['_coverage_driver.py', 'pkg/mod.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=2 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271029.9878845, "msecs": 987.0, "relativeCreated": 39033.511716, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:17:09"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 2): ['_coverage_driver.py', 'pkg/mod.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271029.988355, "msecs": 988.0, "relativeCreated": 39033.981873, "thread": 131845601892160, "threadName": "MainThread", "processName": "MainProcess", "process": 308753, "taskName": null, "asctime": "14:17:09"}], "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00030800099921179935, "outcome": "passed", "longrepr": "[gw5] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_normalized_macros_helper.py::test_normalized_macro_schema_validation", "lineno": 56, "outcome": "passed", "keywords": ["test_normalized_macro_schema_validation", "test_normalized_macros_helper.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3303698820018326, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.016894553002202883, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025704184001369867, "outcome": "passed", "longrepr": "[gw14] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_normalized_macros_helper.py::test_normalized_macros_defined", "lineno": 21, "outcome": "passed", "keywords": ["test_normalized_macros_defined", "test_normalized_macros_helper.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3274399080000876, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0005583790007221978, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.024346176000108244, "outcome": "passed", "longrepr": "[gw9] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_metadata_dataset_rows_macro.py::test_dataset_rows_macro_handles_registry_datasets", "lineno": 9, "outcome": "passed", "keywords": ["test_dataset_rows_macro_handles_registry_datasets", "test_metadata_dataset_rows_macro.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.325227900997561, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.03205346599861514, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025170085002173437, "outcome": "passed", "longrepr": "[gw3] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/orchestration/test_pipeline_catalog_entrypoint.py::test_pipeline_steps_use_function_catalog", "lineno": 47, "outcome": "passed", "keywords": ["test_pipeline_steps_use_function_catalog", "test_pipeline_catalog_entrypoint.py", "orchestration", "tests", "CodeIntel", ""], "setup": {"duration": 0.0005935910012340173, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 7.775946873000066, "outcome": "passed", "stderr": "14:17:12.907 | INFO    | codeintel.ingestion.change - compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0\n14:17:12.908 | INFO    | codeintel.ingestion.change - added_paths (first 20 of 3): ['pkg/b.py', 'pkg/a.py', 'pkg/__init__.py']\n", "log": [{"name": "codeintel.ingestion.change", "msg": "compute_changes repo=demo/repo lang=python prev_rows=0 matched=0 added=3 modified=0 deleted=0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 405, "funcName": "_log_change_details", "created": 1764271032.9076633, "msecs": 907.0, "relativeCreated": 42009.852908, "thread": 132021851227968, "threadName": "MainThread", "processName": "MainProcess", "process": 308744, "taskName": null, "asctime": "14:17:12"}, {"name": "codeintel.ingestion.change", "msg": "added_paths (first 20 of 3): ['pkg/b.py', 'pkg/a.py', 'pkg/__init__.py']", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/paul/CodeIntel/src/codeintel/ingestion/common.py", "filename": "common.py", "module": "common", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "_log_change_details", "created": 1764271032.9082253, "msecs": 908.0, "relativeCreated": 42010.414698, "thread": 132021851227968, "threadName": "MainThread", "processName": "MainProcess", "process": 308744, "taskName": null, "asctime": "14:17:12"}], "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.00025059900144697167, "outcome": "passed", "longrepr": "[gw2] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_normalized_macros_helper.py::test_dataset_rows_only_tables_parse", "lineno": 66, "outcome": "passed", "keywords": ["test_dataset_rows_only_tables_parse", "test_normalized_macros_helper.py", "smoke", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.328773686000204, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.010171627000090666, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02424137200068799, "outcome": "passed", "longrepr": "[gw0] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/repositories/test_repositories.py::test_subsystem_repository_reads", "lineno": 141, "outcome": "passed", "keywords": ["test_subsystem_repository_reads", "test_repositories.py", "repositories", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 4.460433476997423, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.049334113999066176, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03925629899822525, "outcome": "passed", "longrepr": "[gw1] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_schema_function_validation.py::test_apply_all_schemas_creates_function_validation", "lineno": 9, "outcome": "passed", "keywords": ["test_apply_all_schemas_creates_function_validation", "test_schema_function_validation.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.3395355749999, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.0006506930003524758, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.025825897999311564, "outcome": "passed", "longrepr": "[gw15] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/test_callgraph_alias_resolution.py::test_callgraph_resolves_import_alias", "lineno": 15, "outcome": "passed", "keywords": ["test_callgraph_resolves_import_alias", "test_callgraph_alias_resolution.py", "tests", "CodeIntel", ""], "setup": {"duration": 3.317070324999804, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.922686806999991, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.03023481200216338, "outcome": "passed", "longrepr": "[gw8] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}, {"nodeid": "tests/storage/test_schema_alignment.py::test_apply_and_validate_schema_alignment", "lineno": 8, "outcome": "passed", "keywords": ["test_apply_and_validate_schema_alignment", "test_schema_alignment.py", "storage", "tests", "CodeIntel", ""], "setup": {"duration": 3.327649246999499, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "call": {"duration": 0.14790158800315112, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}, "teardown": {"duration": 0.02530385899808607, "outcome": "passed", "longrepr": "[gw11] linux -- Python 3.13.9 /home/paul/CodeIntel/.venv/bin/python"}}], "warnings": [{"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestCatalogRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 776}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/analytics/test_entrypoints_and_dependencies.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageEdgeRow' because it has a __init__ constructor (from: tests/graphs/test_engine_nx.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/tests/_helpers/builders.py", "lineno": 831}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/orchestration/test_pipeline_catalog_entrypoint.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "cannot collect test class 'TestRepository' because it has a __init__ constructor (from: tests/storage/repositories/test_repositories.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/storage/repositories/tests.py", "lineno": 10}, {"message": "cannot collect test class 'TestCoverageStepConfig' because it has a __init__ constructor (from: tests/test_tests_analytics_unit.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/home/paul/CodeIntel/src/codeintel/config/steps_analytics.py", "lineno": 125}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308827) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308747) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}, {"message": "This process (pid=308744) is multi-threaded, use of fork() may lead to deadlocks in the child.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/paul/.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/multiprocessing/popen_fork.py", "lineno": 67}]}